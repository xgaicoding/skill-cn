# Skill Hub 移动端适配需求文档（PRD）

版本：v1.2.0（Mobile Web）  
日期：2026-01-30  
作者：TBD  

本文档聚焦 **Skill Hub 的移动端（Mobile Web）体验改造**：不仅包含响应式样式适配，也包含与移动端交互习惯一致的功能/交互调整。  
默认沿用当前站点的视觉风格与信息结构，在不引入“重新设计整站”的前提下，把移动端体验做到可用、顺滑、可理解。

---

## 1. 背景与目标
### 1.1 背景
- 目前站点主要针对桌面端设计，移动端打开后存在：布局拥挤、横向溢出、点击热区过小、hover 交互失效、筛选与模式切换不易操作等问题。
- v1.1.0 已引入 **实践模式（practices mode）** 与相关筛选/跳转能力，但其交互高度依赖桌面端 hover，移动端无法自然触达。

### 1.2 目标
- **移动端可用性达标**：在常见手机屏宽下（iPhone/Android），核心流程可顺畅完成：浏览列表、搜索、筛选、切换模式、跳转原文、从文章筛选关联 Skill。
- **交互适配移动端习惯**：消除 hover 依赖；触控操作可被发现、可被理解；误触成本低。
- **保持现有风格**：沿用当前桌面端的视觉语言（颜色、圆角、阴影、卡片样式），移动端仅做必要的排版与密度调整。
- **不牺牲可分享性**：继续以 URL Query 表达状态（`mode/tag/sort/q/ids`），支持刷新、分享、前进后退。

### 1.3 非目标
- 不做原生 App / 小程序。
- 不做全站 IA 重构（如新增底部 TabBar 的多频道导航、引入复杂二级筛选体系等）。
- 不新增“文章详情页”（实践文章仍只做索引与跳转原文）。
- 不在本期实现“版权投诉/下架”表单（已在 v1.1.0 讨论，后续单独迭代）。

---

## 2. 术语与范围
### 2.1 术语
- **skills 模式（刷 Skill）**：首页默认模式，展示 Skill 卡片列表。
- **实践模式（practices mode）**：首页展示实践文章卡片列表。
- **ids 锁定集合**：`/?ids=1,2,3` 场景（从实践卡片进入），首页 skills 模式仅展示指定 Skill 集合，并展示可清除 Chip。

### 2.2 适配范围（本期必须覆盖）
1) 首页（skills / practices 两种模式）  
2) Header（搜索、入口按钮）与 Footer（版权/联系）  
3) Skill 详情页（`/skill/[id]`）  
4) 通用状态：加载骨架、空态、错误态、分页/加载更多、弹窗（如“交流群”）

---

## 3. 设备与断点口径
> 断点用于“产品验收口径”，不是强制技术实现方式。

- **手机端（Mobile）**：`<= 767px`
- **平板端（Tablet）**：`768px ~ 1023px`
- **桌面端（Desktop）**：`>= 1024px`（本期不改现有桌面视觉与交互，仅允许少量修复性改动）

验收重点以手机端为主；平板端至少保证不溢出、不遮挡、可操作。

---

## 4. 设计原则（移动端）
### 4.1 视觉原则
- **沿用现有视觉风格**：不改变品牌色、卡片语言、整体层级（Hero + 筛选条 + 列表 + 分页）。
- **信息密度适中**：移动端优先保证可读性（字号/行高/间距），其次再追求“塞更多信息”。
- **减少边框噪音**：移动端屏幕小，避免大量描边/分割线堆叠导致“脏”。

### 4.2 交互原则
- **不依赖 hover**：所有关键能力必须可通过点击/触控完成。
- **触控热区合规**：可点击元素建议 ≥ 44px（高度或可点击区域），避免误触。
- **操作可发现**：用户第一次进入也能理解“怎么切模式 / 怎么筛选 / 怎么跳原文”。
- **少而稳的动效**：动效只用于反馈（如 pressed、展开/收起过渡），避免花哨；尊重 `prefers-reduced-motion`。

### 4.3 性能原则
- 列表/卡片进入动效不做复杂逐帧动画；优先 `transform/opacity`，必要时开启 GPU 合成（`translate3d` 等）。
- 避免因 fixed/blur/大面积阴影造成滚动掉帧；如需毛玻璃，移动端可降级为纯色/半透明。

---

## 5. 信息架构与全局导航（移动端）
### 5.1 Header（移动端布局）
目标：在不“挤爆一行”的情况下，保留核心入口与搜索能力。

移动端 Header（已确认）：
- 需要：`Logo`、`搜索`、`交流群`、`官方文档`
- 不需要：`提交 Skill`、`登录/个人中心`（移动端入口移除/隐藏）
补充（新增确认）：
- **Skill 详情页不需要搜索框**（仅首页保留搜索；详情页头部更克制，减少信息噪音）

推荐布局（默认实现）：Header 分两行
- **第一行**：Logo（左） + 入口按钮（右：交流群、官方文档）
  - 入口按钮以图标为主，必要时可保留短文案（避免挤压）
  - 入口按钮采用**橙色文字链**风格（无外层容器），但需保证点击热区 ≥ 44px
- **第二行**：搜索框占满一行
  - placeholder：与当前逻辑一致（实践模式：搜索文章标题/描述；skills 模式：搜索 Skill 名称/描述/标签）
  - 提交搜索需保留当前状态参数：`mode/ids/tag/sort`（保持 v1.1.0 已实现规则）

### 5.2 Footer（移动端展示）
Footer（已确认，极简版）：
- 仅保留一句品牌文案 + 版权信息：
  - `连接优质 Skill 与场景落地，沉淀可复用的 AI 生产力模块，让每位开发者都能快速构建强大应用。`
  - `© 2026 Skill Hub 中国`
说明：移动端不展示“微信联系/免责声明/多列链接”；若后续需要补版权投诉入口，再单独迭代。

---

## 6. 首页（移动端）需求
> 重要说明（已确认）：移动端 **Hero 区需要做结构性适配**（不只是改样式）。

### 6.1 首页整体布局
- skills 模式与实践模式的卡片列表区采用 **两列网格**（一行两张卡片）。
- 页面不得出现横向滚动条（除“横向滑动的标签条”这种明确交互外）。
- 列表区域与底部控件（分页/模式切换）不得互相遮挡；需考虑 iOS safe-area。

### 6.1.1 Hero 区（移动端改造）
目标：把桌面端的“Logo/Slogan + 推荐内容”在小屏上变得更聚焦、可滑动、不卡顿。

移动端 Hero（已确认）：
- 结构：**横向轮播（横版 Carousel）**
  - 第 1 张：Logo + Slogan（品牌引导卡）
  - 第 2 张起：轮播推荐实践卡片（复用现有推荐实践的数据源/埋点逻辑）
- 交互：
  - 左右滑动切换
  - 自动轮播：开启；间隔/速度保持适中；用户手动滑动后**无需暂停**自动轮播
  - 分页指示器：需要（直接使用 `react swiper` 组件能力即可）
  - 手势冲突容错：无需额外处理（按组件默认行为）
- 性能：滚动/滑动保持顺畅；动效克制，尊重 `prefers-reduced-motion`

### 6.2 模式切换（移动端交互与位置）
背景：桌面端使用右侧吸附 Mode Dock（hover 展开、可拖拽）。移动端没有 hover，且拖拽容易与滚动手势冲突，因此需要移动端专属方案。

需求（已确认）：功能保留，需适配移动端。

建议方案（默认实现，可在视觉稿阶段微调）：
- 形式：**底部悬浮的二选一分段控件**（Segmented Control）
- 位置：吸附在页面底部安全区上方（不遮挡列表内容；页面底部需预留 padding）
- 展示：两项均展示“图标 + 文案”（移动端不做 hover 展开）
- 交互：
  - 点击切换：立即切换模式
  - 切换模式时滚动回到顶部（沿用 v1.1.0 口径）
  - URL 同步：实践模式写 `mode=practices`，skills 模式不写 mode
  - 默认排序：实践模式默认“最新”，skills 模式默认“最热”（沿用 v1.1.0 小优化）
- 显隐策略（已确认）：
  - 用户向下滚动：自动隐藏（减少遮挡）
  - 用户向上滚动 / 停止滚动：重新出现
- 可拖拽：移动端 **不做拖拽**（默认关闭，避免与滚动冲突）；若后续强需求，可引入“长按拖拽手柄”再评估

### 6.3 筛选条（分类 + 排序）移动端适配
补充口径（已确认）：
- 筛选条需要 **吸顶（sticky）**，采用“固定吸顶一直可见”的策略（方案 A），便于用户在无限滚动中随时切换分类/排序。

#### 6.3.1 分类标签（TAG）
- 分类标签改为**横向可滚动的 Chip 列表**（单行不换行）
- 支持“当前选中态”明显可见（与桌面一致）
- 滚动时不抖动、不误触；可在左右边缘增加轻量渐隐提示（可选）

#### 6.3.2 排序（最热/最新）
- 排序保持两项（最热/最新）
- 移动端建议放在分类标签同一行的右侧（或作为右侧按钮打开轻量 Popover/ActionSheet，二选一；默认建议同一行）
- 点击热区足够大；选中态清晰

#### 6.3.3 ids 锁定集合 Chip（仅 skills 模式）
沿用 v1.1.0 已实现逻辑（方案 2A + Chip），移动端需要：
- Chip 在小屏不换行挤压：允许与标签条“并行”或“下移一行”，但需清晰可见
- 点击 Chip 可清除 ids，并恢复全量技能列表
- 当存在 ids 时，用户点击任何分类标签（包括“全部”）会自动清除 ids（方案 2A）

### 6.4 列表与卡片（移动端）
#### 6.4.1 skills 模式（Skill 卡片）
- **两列展示**；卡片内信息收敛为：标题（**单行省略**）+ 描述（截断）+ footer 数据（热度/实践数）。
- 卡片可点击进入 Skill 详情（沿用现有）。
- 为保证两列刷列表的节奏：**卡片高度统一（定高）**，卡片圆角在移动端略收敛（保持现有风格但更利落）。

#### 6.4.2 实践模式（实践文章卡片）
移动端关键点：**没有 hover**，但必须满足“卡片本体不误触跳转、操作入口清晰”的诉求。

交互方案（已确认）：
- 形态：**ActionSheet**
- 触发方式：**点击卡片任意区域弹出 ActionSheet**（避免“点了没反应”的挫败感）
- 卡片本体：不直接跳转（避免误触），只作为“打开操作面板”的入口
- 视觉/动效：采用**上浮抽屉（Bottom Sheet）**效果（从底部上滑进入 + 遮罩），动效克制，优先 `transform/opacity`，尊重 `prefers-reduced-motion`

ActionSheet 信息区（已确认，推荐）：
- 展示：标题（最多 2 行）+ 来源（渠道·作者）+ 文章简介（摘要，最多 3 行）
- 补齐信息：日期、阅读量（卡片区域不展示或展示不全时，在此处统一补齐）
- 关联 Skill：在 ActionSheet 中展示关联 Skill 列表（可横向滚动），用于确认“这篇文章关联哪些技能”

ActionSheet 动作（均为必需）：
- “跳转原文”：打开 `source_url`（浏览器行为允许的新标签页/同页打开均可，以实现为准）
- “筛选相关 Skill”：进入首页 skills 模式，并筛选出该文章关联的所有 Skill 卡片（沿用 `ids` 锁定集合）
  - 打开方式（已确认）：**本页打开**（不强制新 Tab，减少移动端多 Tab 迷失与兼容性问题）
- 关闭规则：点击任一动作后 ActionSheet 自动关闭；点击遮罩可关闭（不展示“取消”按钮）

卡片信息展示（移动端两列布局，压缩信息密度）：
- 标题：最多 2 行（建议固定 2 行高度占位，避免 footer 上下跳动）
- 摘要：固定 5 行高度；第 5 行纵向渐隐（不显示 `...`）
- 左下：作者名（不展示关联 Skill 标签，避免两列布局信息过挤）
- 右下：阅读量（图标 + 数值）
补充说明：
- 渠道/日期/关联 Skill 统一放到 ActionSheet 信息区展示（卡片保持“标题 + 摘要 + 作者 + 阅读量”的干净结构）。
补充（新增确认）：
- 首页实践卡片区采用 **两列布局**；卡片信息默认收敛为“标题 + 摘要 + 作者 + 阅读量”，其余信息通过 ActionSheet 补齐。

信息取舍（已确认）：
- 总体规则：若移动端排版出现“信息过于拥挤”，可隐藏部分元素；若无排版问题，则不隐藏
补充：
- 当前移动端卡片默认已做“信息收敛”，不再依赖 <=360px 的规则差异；需要补齐的信息统一在 ActionSheet 展示。

### 6.5 分页/加载更多（移动端）
需求（已确认）：分页改为 **滚动加载（Infinite Scroll）**。

规则建议：
- 首屏加载第 1 页数据；向下滚动接近底部时自动加载下一页并追加渲染
- 加载中展示“底部加载中”状态（或追加骨架卡片）
  - 骨架卡片需贴近当前模式的卡片结构（skills / practices 两套），并适配两列网格节奏
- 加载失败时提供“重试”入口（避免用户卡死）
- 加载到末页后展示“已到底”提示
- 支持“回到顶部”浮动按钮（已确认）：
  - 当用户向下滚动超过一定距离后出现（例如超过 1~2 屏）
  - 点击后平滑滚动回顶部
  - 出现/消失时机可与底部模式切换条联动（避免同时占用过多视野）
- URL 参数仍以 `mode/tag/sort/q/ids` 为准；页码不写入 URL（保持分享链接稳定）

返回恢复（已确认）：
- 从列表进入详情页再返回时：不要求恢复“已加载页数/滚动位置”，优先保证实现简单稳定

---

## 7. Skill 详情页（移动端）需求
目标：在移动端可读、可操作、不卡顿。

- 顶部信息区域（标题/标签/数据）改为纵向排布，避免左右挤压。
补充（新增确认）：
- **详情页不展示搜索框**（只保留 Logo + 入口按钮）。
- 详情页下方需要展示该 Skill 关联的实践卡片列表：
  - **无限滚动加载**
  - **两列网格布局**（一行两张）
  - 信息密度可更紧凑（例如摘要行数收敛），以保证两列布局下可读性。
- “快速开始”示意模块不需要展示（以“关联实践列表”为主）。

### 7.1 PC 专属能力（移动端降级策略）
需求（已确认）：
- Skill 详情页整体功能保留，但对于 PC 端专属能力（例如：`投稿`、`下载` 等），移动端点击后不执行原逻辑，改为 toast 提示：
  - `请前往PC版网页使用功能`
说明：避免移动端流程半途失败导致“点了没反应/跳转异常”的负面体验。

---

## 8. 通用组件（移动端）适配
### 8.1 弹窗（如“交流群”）
- 移动端弹窗建议改为 **底部抽屉/全屏弹层**（避免居中弹窗过小/难点关闭）
- 关闭按钮位置固定、热区足够大；支持点击遮罩关闭

### 8.2 Toast/错误提示/空态
- 空态文案不应撑出屏幕；按钮宽度自适应且可点击区域足够大
- 错误态提供明确的“重试”按钮（现有逻辑保留）

---

## 9. 验收标准（核心）
### 9.1 可用性
- iPhone/Android 常见屏宽下无横向溢出（除明确的横向滚动标签条）。
- 首页两种模式可正常切换；筛选（tag/sort/search）可用且状态可理解。
- 筛选条在移动端吸顶（sticky），无限滚动过程中随时可切换分类/排序。
- 实践模式下可完成：
  - 跳转原文
  - 从文章筛选关联 Skill，并在 skills 模式看到 ids 锁定集合 Chip，可一键清除恢复全量
- 所有可点击控件在移动端点击热区合规，不出现“点不到/误触”。
- 实践卡点击后弹出 Bottom Sheet ActionSheet，并可在面板内完成两项动作（跳转原文/筛选相关 Skill）。
- 列表支持无限滚动：加载失败可重试；到末尾展示“已到底”；提供“回到顶部”浮动按钮。

### 9.2 一致性
- URL 状态可分享/可回退：`mode/tag/sort/q/ids` 在刷新后保持一致。
- Hero 区规则一致：
  - 桌面端保持现有逻辑与布局不变
  - 移动端按 6.1.1 改为横向轮播（第 1 张品牌卡 + 轮播推荐实践卡）

### 9.3 性能与动效
- 列表滚动无明显掉帧；动效不喧宾夺主；`prefers-reduced-motion` 下自动弱化动效。

---

## 10. 已确认口径（关键决策）
1) **实践模式卡片的操作入口**：移动端采用“底部操作常驻”还是“更多按钮 + ActionSheet”？ 答：改为ActionSheet
2) **“筛选相关 Skill”的打开方式（移动端）**：同页切到 skills 模式并带 `ids`，还是新开 Tab？答：本页打开
3) 移动端信息取舍：实践卡片默认收敛为“标题 + 摘要 + 作者 + 阅读量”；日期/渠道/关联 Skill 统一在 ActionSheet 信息区补齐展示

---

## 11. 进一步确认（已澄清）
为避免移动端实现与验收出现“各自理解各自做”，以下记录本期已澄清的关键口径：

1) **实践卡 ActionSheet 的触发方式**：
   - 方案 A：点击卡片任意区域弹出 ActionSheet（更符合移动端直觉，也避免卡片不可点导致“点了没反应”）
   - 方案 B：仅点击卡片上的“更多（…）”按钮才弹出 ActionSheet（更克制，但可发现性更弱）
   答：方案A

2) **无限滚动的返回恢复**：
   - 用户从首页列表进入 Skill 详情页后再返回，是否需要恢复：
     - 已加载的页数（列表已追加的数据）
     - 当前位置的滚动位置
   - 若不恢复，是否接受“返回后回到顶部/回到第一页”的体验？
   答：简单做就好，不需要恢复

3) **底部模式切换条（Mobile Mode Switch）遮挡与显示策略**：
   - 是否需要“滚动时自动隐藏，上滑/停住再出现”，避免遮挡列表内容？答：需要
   - iOS safe-area 的验收口径：底部悬浮条不遮挡最后一条卡片的关键信息/操作按钮（需要预留多少 padding）？答：预留padding视觉上保证舒适即可

4) **“日期/关联 Skill”的展示口径**：
   - 卡片区域：默认不展示日期与关联 Skill（两列布局下避免信息过挤）
   - ActionSheet：统一展示来源（渠道·作者）、文章简介、日期、阅读量、关联 Skill 列表（可横向滚动）
   答：按上述固定口径实现（不再做“拥挤判定”与断点差异）

5) **“新开 Tab”的兜底与反馈**（移动端兼容性）：
   - 若在部分移动端/内置浏览器环境中 `window.open` 被拦截或退化为同页打开，是否允许 fallback（同页打开）？
   - 是否需要在用户点击后给出轻反馈（例如 toast：“已在新标签打开”/“已为你打开技能列表”）以降低“不确定是否生效”的感知？
   答：实现复杂则不做新开 Tab，统一改为本页打开

6) **Hero 横向轮播细节口径**：
   - 是否自动轮播？若自动轮播，间隔/速度是多少？用户手动滑动后是否暂停自动轮播？答：自动轮播；间隔和速度保持适中；用户手滑后无需暂停
   - 是否需要分页指示器（dots/进度条）？样式与位置是否固定？答：需要，这里用直接用react swiper组件的能力即可
   - 手势冲突容错：用户想纵向滚动页面时，如何避免被轮播的横向滑动“吃掉”手势？答：无需考虑

7) **筛选条是否需要“吸顶”**（移动端可用性优化）：
   背景：移动端采用无限滚动，用户浏览到列表中段后仍可能需要切换分类/排序；若筛选条不吸顶，用户需要回到顶部才能操作，成本较高。
   - 方案 A：筛选条固定吸顶（一直可见）
   - 方案 B：向上滚动时出现（sticky + show on scroll up），向下滚动隐藏
   - 方案 C：不吸顶（保持当前结构）
   答：方案 A

8) **实践卡 ActionSheet 的信息结构**（信息确认与可发现性）：
   ActionSheet 需要展示信息区（用于“我点的是哪篇”的确认），并提供两个主动作：
   - 信息区：标题（最多 2 行）+ 来源（渠道·作者）+ 文章简介（最多 3 行）+ 日期/阅读量 + 关联 Skill 列表（横向滚动）
   - 动作区：跳转原文 / 筛选相关 Skill（左右并排；不展示“取消”按钮）
   答：按上述结构实现；ActionSheet 采用上浮抽屉效果

9) **无限滚动的边界体验与回到顶部**：
   - 到底提示：是否需要明确文案（例如“已到底”）？
   - 加载失败：是否在列表底部展示“加载失败 + 重试”入口？
   - 回到顶部：是否需要浮动按钮（仅在滚动到一定距离后出现），以及出现/消失时机（可与底部模式切换条联动）？
   答：需要“已到底”；展示“加载失败 + 重试”；需要浮动按钮

10) **“日期/关联 Skill”在卡片区域的可验收判定**：
   - 固定口径：卡片区域不展示日期与关联 Skill（避免两列布局信息拥挤）
   - ActionSheet 内必须补齐展示日期/阅读量/关联 Skill
   答：固定口径（无需断点差异与拥挤判定）

11) **Hero 性能降级策略（移动端低端机/省电/无动画偏好）**：
   目标：避免 Hero 背景动效 + 轮播叠加导致滚动掉帧。
   需要确认是否启用以下降级策略（可多选）：
   - prefers-reduced-motion：关闭自动轮播/弱化过渡（已在原则中要求）
   - 移动端默认减少/关闭背景 glow/spark（或降低透明度与数量）
   - 移动端轮播使用更轻量的 effect（例如普通 slide，不用重 3D/cards 效果）
   答：不需要考虑低端机性能降级
