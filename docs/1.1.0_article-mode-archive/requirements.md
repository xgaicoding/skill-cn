# Skill Hub 实践模式需求文档（PRD）

版本：v1.1.0（Practices Mode）  
日期：2026-01-26  
作者：TBD  

本文档聚焦**实践模式（practices mode）的产品目标、页面规则与验收口径**，不讨论技术实现与接口细节。

---

## 1. 背景与目标
### 1.1 背景
当前首页核心区域以 Skill 卡片为主，但用户希望能像“刷内容流”一样快速浏览实践文章，尤其是带有多个技能关联的文章内容。

### 1.2 目标
- 在首页新增“实践模式（practices mode）”，让用户以等高卡片网格方式浏览实践文章。
- 实践卡片清晰展示关联 Skill、标题、日期、描述、阅读量等关键信息。
- 通过卡片 hover 蒙层中的「跳转原文」按钮可直接跳转原文，减少中间路径。

### 1.3 非目标
- 不新增文章详情页（不在站内二次承载）。
- 不新增文章编辑/管理后台能力。
- 不新增除「分类标签（全部/研究/编程/…）」之外的复杂筛选（如作者、来源渠道、多维组合筛选等）——后续迭代再评估。

---

## 2. 术语与范围
- **文章（Practice）**：来自 `practices` 数据源的实践内容。
- **实践模式（practices mode）**：首页展示实践文章卡片网格的浏览模式，与“刷 Skill 模式”并存。

范围仅覆盖首页模式切换与文章卡片网格区域，不改变现有 Skill 列表与详情页逻辑。

---

## 3. 用户入口与流程
### 3.1 入口
- 首页新增**模式切换**（例如：`刷 Skill` / `实践模式`）。
- 默认模式保持当前行为（刷 Skill），用户切换到实践模式后展示实践文章卡片网格。

### 3.2 流程
1) 用户进入首页（默认刷 Skill）。  
2) 用户切换至“实践模式”。  
3) 首页主内容区域展示实践卡片网格。  
4) 用户将鼠标悬停在卡片上，底部浮出操作蒙层；用户点击「跳转原文」按钮跳转到文章原文链接。

---

## 4. 首页实践模式需求
### 4.1 布局与结构
- 首页原本 Skill 卡片区域替换为**实践卡片等高网格**。
- 实践列表顶部沿用现有首页的**筛选条**（视觉与交互保持一致）：
  - 左侧：分类标签（`全部/研究/编程/写作/数据分析/设计/生产力`）
  - 右侧：排序切换（`最热/最新`）
- 网格按响应式布局：
  - 桌面端：≥3 列（具体列数按现有容器宽度自适应）。
  - 平板端：2 列。
  - 移动端：1 列。
- 模式切换从 Header 移到页面右侧吸附展示，形式为**纵向二选一 Mode Dock**（更像工具栏的二选一按钮，而非传统表单 switch；默认仅展示图标，hover/聚焦时 Dock 向左展开并显示文案，以减少对 Hero 的干扰同时降低认知成本）。
- 实践卡片为**定高**布局，避免瀑布流高度错落。
- 同一行实践卡片的 **footer 基线对齐**（不因标题 1 行/2 行导致 footer 上下跳动）。

### 4.2 实践卡片内容
每张实践卡片需展示以下信息（均来自现有 practice 数据）：
- **左上角来源信息**：`channel` + `author_name`，格式 `渠道·作者`（示例：`公众号·骁哥`），不展示描边容器。
- **标题**：practice `title`，最多展示 2 行；若标题仅 1 行，不需要为第 2 行强行预留空行（避免标题与描述之间出现“空一行”的观感问题）。
- **日期**：practice `updated_at`，格式 `YYYY-MM-DD`；右上角用**日历图标 + 日期**展示，不展示“更新：”文案。
- **描述**：practice `summary`，固定展示 **5 行高度**；若内容超过 **4 行**，第 **5 行**做**纵向渐隐**（整行向下淡出，提示还有更多内容）；**不展示 `...` 省略号**（用渐隐表达“还有更多”）。
- **阅读量**：practice `click_count`，展示口径为累计阅读量；右下角用**眼睛图标 + 数值**展示，不展示“阅读量：”文案。
- **关联 Skill**：展示 1~3 个 Skill（优先展示 primary skill，其余按关联顺序补齐），位置在卡片左下角；不折行，超长名称以省略号截断并保留 `+N`。
  - 单个 Skill 时：**优先展示完整名称**；仅当空间不足时再省略号截断。

### 4.3 交互规则
- 实践卡片本体区域**不可点击**（避免误触）。
- 鼠标悬停卡片时，卡片底部（footer）上浮出操作蒙层，提供两个操作：
  - **跳转原文**：**新标签页**打开 `source_url`（文章原文）
  - **筛选相关 Skill**：新开一个首页「刷 Skill」模式 Tab，并筛选出该文章关联的所有 Skill 卡片
- 鼠标悬停状态需有明确反馈（阴影/边框/上浮等轻量效果），避免夸张动画。
- 分类标签筛选（`全部/研究/编程/...`）：
  - 选择某分类后，仅展示**关联 Skill 中至少有一个 tag=该分类**的文章
  - 选择「全部」则展示全部文章

### 4.4 排序规则
- 排序由右侧「最热/最新」切换控制：
  - **最热（heat）**：`click_count` 倒序，其次 `updated_at` 倒序
  - **最新（recent）**：`updated_at` 倒序，其次 `click_count` 倒序

### 4.5 加载与状态
- 首屏加载显示骨架屏/占位卡片。
- 加载失败时展示错误提示与重试入口。
- 无数据时展示空状态与文案提示（例如“暂无文章，稍后再来看看”）。

---

## 5. 数据口径（展示字段说明）
| 展示项 | 数据字段 | 口径说明 |
| --- | --- | --- |
| 关联 Skill | practices -> practice_skills -> skills | 取 primary skill 优先，其余按关联顺序补齐，最多 3 个 |
| 标题 | practices.title | 原样展示，超长截断 |
| 日期 | practices.updated_at | `YYYY-MM-DD` |
| 描述 | practices.summary | 固定 5 行高度；内容超过 4 行时第 5 行做纵向渐隐裁切 |
| 阅读量 | practices.click_count | 累计点击数 |
| 来源信息 | practices.channel + practices.author_name | 左上角展示 `渠道·作者` |

---

## 6. 验收标准
- 首页可在“刷 Skill / 实践模式”两种模式间切换，切换开关吸附页面右侧。
- 切换到实践模式后，首页主区域展示实践卡片等高网格。
- 实践卡片包含：左上角来源（渠道·作者）、标题、日期、描述（5 行高度 + 第 5 行纵向渐隐）、阅读量、左下角关联 Skill。
- 实践卡片本体区域**不支持点击跳转**（避免误触），仅允许点击 hover 蒙层内的按钮进行「跳转原文 / 筛选相关 Skill」。
- 列表支持「最热/最新」排序切换，排序规则与上文一致。
- 空态/错误/加载状态表现完整。

---

## 7. 待确认问题
- 模式切换是否需要记忆用户上次选择（本地缓存）？答：不需要缓存
- 实践卡片是否需要显示“精选”标识（来自 `is_featured`）？答：不需要展示精选标识
- 是否需要支持搜索/过滤（按 Skill/标签/作者）？答：需要，实践模式下，header 的搜索变为实践搜索

## 8. 产品疑问（待澄清）
- “实践模式”与“刷 Skill 模式”的切换形式：Tab、按钮组还是下拉？答：用 **右侧吸附的纵向二选一 Mode Dock**（更像工具栏的二选一按钮，不使用传统表单 switch）
- 默认进入模式是否固定为“刷 Skill”，是否需要运营可配置？答：是的；暂时不需要配置
- 实践卡片需要展示几条关联 Skill？超过数量是否展示“+N”？答：默认展示不超过3条，>=3条需要展示+N
- 阅读量展示口径：显示原始数值还是需要格式化（如 1.2k）？答：与目前目前实践卡片口径保持一致
- 日期展示口径：仅显示 `updated_at` 还是支持相对时间（如“2 天前”）？答：与目前实践卡片口径保持一致
- 点击卡片是否需要统计曝光/点击埋点（目前仅有 `click_count`）？答：click_count就够了

## 9. 进一步确认（可继续脑爆）
- 实践模式下搜索的匹配范围：仅标题/描述，还是包含作者与关联 Skill 名称？答：仅标题/描述就好
- 模式切换时是否需要保持当前滚动位置，还是重置到顶部？答：重置到顶部
- 实践卡片上的 Skill 是否可点击筛选？若可点击，是否需要与卡片跳转互斥？答：采用方案 B，鼠标悬停时**卡片底部（footer）上浮出蒙层浮层**，提供「筛选相关 Skill / 跳转原文」两操作；浮层不遮盖标题/摘要；Skill 标签本身不直接作为筛选入口
  - 补充确认：实践卡片本体不可点击；仅允许点击蒙层内按钮触发跳转/筛选
  - 补充确认：「筛选相关 Skill」行为为：新开一个首页「刷 Skill」模式 Tab，并筛出该文章关联的所有 Skill 卡片（不是跳到 skill 详情页）
- “+N”显示逻辑是否仅在关联 Skill 总数 **大于 3** 时出现？答：是的
- 实践模式是否需要“加载更多/无限滚动”策略，避免一次性渲染过多卡片？答：采用分页，一页12个就好
- 移动端信息展示优先级：阅读量/作者/渠道是否需要隐藏或折叠？答：移动端不需要兼容，后续会专门提需求兼容移动端

## 10. 体验优化建议（已确认）
- **模式可分享性**：答：需要。在 URL 里体现 `mode=practices`，方便分享或刷新后保持模式；URL 优先级高于默认值，切换模式时同步更新 URL
- **卡片交互冲突**：答：采用方案 B（鼠标悬停时 footer 上浮蒙层浮层：筛选相关 Skill / 跳转原文；按钮集中展示，蒙层为暖色玻璃质感，不遮盖标题/摘要）
- **搜索与分页联动**：答：分页采用数字分页；页码不写入 URL，保持与当前 Skill 列表一致；搜索空态沿用现有实践空态，不额外展示结果数
- **+N 展示细节**：答：仅显示 `+N`，不做气泡/tooltip
