@import url('https://fonts.googleapis.com/css2?family=Fredoka:wght@400;500;600;700;800&family=Nunito:wght@400;500;600;700;800&family=Noto+Sans+SC:wght@400;500;600;700;800&display=swap');
/* 详情页代码块采用深色高亮主题，匹配深色代码区域 */
@import "highlight.js/styles/github-dark.css";
/* Swiper 卡片轮播基础样式 */
@import "swiper/css";
@import "swiper/css/effect-cards";
/* Mobile Hero 需要 Swiper Pagination 的基础样式（圆点指示器） */
@import "swiper/css/pagination";

:root {
  --font-heading: "Fredoka", "Noto Sans SC", ui-sans-serif, system-ui, -apple-system, "Segoe UI",
    Roboto, "Helvetica Neue", Arial, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",
    "Noto Sans CJK SC", sans-serif;
  --font-body: "Nunito", "Noto Sans SC", ui-sans-serif, system-ui, -apple-system, "Segoe UI",
    Roboto, "Helvetica Neue", Arial, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",
    "Noto Sans CJK SC", sans-serif;

  --bg: #fff1e6;
  --surface: rgba(255, 255, 255, 0.78);
  --surface-strong: rgba(255, 255, 255, 0.92);
  --surface-solid: #ffffff;

  --text: #1a1510;
  --muted: #7c5e4d;
  --muted-2: rgba(124, 94, 77, 0.7);

  --primary: #ff6b00;
  --primary-strong: #e65200;
  --secondary: #ff3366;
  --accent: #ffcc00;
  --success: #22c55e;

  --color-primary: var(--primary);
  --color-primary-strong: var(--primary-strong);
  --color-secondary: var(--secondary);
  --color-text: var(--text);
  --color-text-muted: var(--muted);

  --border: rgba(255, 107, 0, 0.16);
  --border-strong: rgba(255, 107, 0, 0.22);

  --shadow-soft: 0 30px 60px -15px rgba(255, 107, 0, 0.22),
    0 10px 20px -8px rgba(255, 51, 102, 0.12);
  --shadow-card: 0 22px 60px -30px rgba(50, 20, 0, 0.18),
    0 0 0 1px rgba(255, 107, 0, 0.08) inset;
  --shadow-float: 0 40px 90px -30px rgba(50, 20, 0, 0.22),
    0 0 0 1px rgba(255, 255, 255, 0.55) inset;

  /* Aurora palette: sync with site warm + playful theme (no green). */
  --aurora-1: rgba(255, 204, 0, 0.2);
  --aurora-2: rgba(255, 107, 0, 0.22);
  --aurora-3: rgba(255, 51, 102, 0.2);
  --aurora-warm: rgba(255, 255, 255, 0.12);

  --radius-sm: 12px;
  --radius-md: 18px;
  --radius-lg: 28px;
  --radius-xl: 44px;

  --content-width: 1260px;
  --page-gutter: 28px;
}

* {
  box-sizing: border-box;
}

html {
  height: 100%;
  /*
    兜底禁止根节点横向滚动：
    - 一些第三方组件（如轮播）在特定样式组合下可能把页面“撑宽”
    - body 的 overflow-x:hidden 在部分浏览器/场景下不够稳，这里与 body 同步兜底
  */
  overflow-x: hidden;
}

body {
  /* min-height: 100%; */
  margin: 0;
  font-family: var(--font-body);
  color: var(--text);
  background-color: var(--bg);
  overflow-x: hidden;
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeLegibility;
  position: relative;
  isolation: isolate;
}

body::before,
body::after {
  content: "";
  position: fixed;
  inset: -26vh -18vw 0;
  pointer-events: none;
  z-index: 0;
  /* GPU 合成层优化：为大面积背景动画预建合成层，降低偶发频闪 */
  transform: translate3d(0, 0, 0);
  backface-visibility: hidden;
  contain: paint;
  will-change: transform, opacity, filter, background-position;
}

body::before {
  opacity: 0.72;
  mix-blend-mode: screen;
  filter: blur(72px) saturate(140%);
  background-image:
    radial-gradient(60% 52% at 16% 0%, var(--aurora-1) 0%, transparent 62%),
    radial-gradient(56% 46% at 62% -6%, var(--aurora-2) 0%, transparent 58%),
    radial-gradient(48% 44% at 88% 10%, var(--aurora-3) 0%, transparent 60%),
    radial-gradient(46% 40% at 44% 12%, var(--aurora-warm) 0%, transparent 66%);
  mask-image: linear-gradient(to bottom, rgba(0, 0, 0, 0.9) 0%, rgba(0, 0, 0, 0) 100%);
  -webkit-mask-image: linear-gradient(to bottom, rgba(0, 0, 0, 0.9) 0%, rgba(0, 0, 0, 0) 100%);
  animation: auroraHaze 26s ease-in-out infinite alternate;
}

body::after {
  opacity: 0.4;
  mix-blend-mode: screen;
  filter: blur(26px) saturate(170%) contrast(108%);
  background-image:
    linear-gradient(
      180deg,
      rgba(255, 255, 255, 0) 0%,
      rgba(255, 255, 255, 0.18) 36%,
      rgba(255, 255, 255, 0) 78%
    ),
    repeating-linear-gradient(
      90deg,
      rgba(255, 107, 0, 0) 0%,
      rgba(255, 107, 0, 0) 8%,
      rgba(255, 107, 0, 0.12) 10%,
      rgba(255, 107, 0, 0) 14%,
      rgba(255, 204, 0, 0.12) 16%,
      rgba(255, 204, 0, 0) 22%
    ),
    repeating-linear-gradient(
      120deg,
      rgba(255, 51, 102, 0) 0%,
      rgba(255, 51, 102, 0) 16%,
      rgba(255, 51, 102, 0.12) 20%,
      rgba(255, 51, 102, 0) 28%,
      rgba(255, 107, 0, 0.1) 32%,
      rgba(255, 107, 0, 0) 42%
    );
  background-size: 200% 200%, 280% 180%, 240% 160%;
  background-position: 30% 0%, 0% 0%, 12% 0%;
  mask-image: linear-gradient(to bottom, rgba(0, 0, 0, 0.78) 0%, rgba(0, 0, 0, 0) 100%);
  -webkit-mask-image: linear-gradient(to bottom, rgba(0, 0, 0, 0.78) 0%, rgba(0, 0, 0, 0) 100%);
  animation: auroraCurtain 18s ease-in-out infinite;
}

@keyframes auroraHaze {
  0% {
    transform: translate3d(-3%, -2%, 0) rotate(-2deg) scale(1.05);
    opacity: 0.62;
  }
  55% {
    transform: translate3d(2%, 1%, 0) rotate(1.1deg) scale(1.09);
    opacity: 0.78;
  }
  100% {
    transform: translate3d(-1%, 3%, 0) rotate(2.2deg) scale(1.06);
    opacity: 0.68;
  }
}

@keyframes auroraCurtain {
  0% {
    transform: translate3d(0, 0, 0) skewX(-10deg) rotate(-0.8deg) scale(1.06);
    background-position: 20% 0%, 0% 0%, 10% 0%;
  }
  50% {
    transform: translate3d(-2%, 1%, 0) skewX(-6deg) rotate(0.6deg) scale(1.09);
    background-position: 38% 10%, 82% 26%, 24% 20%;
  }
  100% {
    transform: translate3d(2%, -1%, 0) skewX(-12deg) rotate(1.1deg) scale(1.06);
    background-position: 12% 0%, 12% 30%, 72% 18%;
  }
}

@media (prefers-reduced-motion: reduce) {
  body::before,
  body::after {
    animation: none;
  }
}

/* ---------- Skeleton & Loading ---------- */
/*
  Skeleton（骨架屏底座）：
  - 统一 shimmer 动效，避免重复定义
  - 通过 transform + will-change 触发 GPU 合成层，降低重绘压力
*/
@keyframes sh-skeleton-shimmer {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(100%); }
}

.skeleton {
  background-color: rgba(124, 94, 77, 0.10);
  position: relative;
  overflow: hidden;
  isolation: isolate;
  transform: translateZ(0);
}

.skeleton::after {
  content: "";
  position: absolute;
  inset: 0;
  transform: translateX(-100%);
  background: linear-gradient(
    90deg,
    transparent,
    rgba(255, 255, 255, 0.58),
    transparent
  );
  animation: sh-skeleton-shimmer 1.45s ease-in-out infinite;
  will-change: transform;
}

/*
  Loading - dots：
  - 使用 currentColor，天然适配按钮文字色
  - 动画基于 transform，避免触发布局
*/
@keyframes sh-loading-dot {
  0%, 80%, 100% { transform: translateY(0) scale(1); opacity: 0.55; }
  35% { transform: translateY(-18%) scale(1.18); opacity: 1; }
}

/*
  Loading - ring：
  - 渐变环 + 轻微体积光
  - 动画基于 transform，避免触发布局
*/
@keyframes sh-loading-spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

@keyframes sh-loading-glow {
  0%, 100% { opacity: 0.18; transform: scale(0.96); }
  50% { opacity: 0.32; transform: scale(1.02); }
}

.sh-loading--dots {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: calc(var(--sh-loading-size) / 6);
  line-height: 0;
  user-select: none;
}

.sh-loading--dots .sh-loading__dot {
  width: calc(var(--sh-loading-size) / 5.3);
  height: calc(var(--sh-loading-size) / 5.3);
  border-radius: 999px;
  background: currentColor;
  /* 性能优化：用 box-shadow 替代 filter drop-shadow，减少每帧滤镜计算 */
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08);
  animation: sh-loading-dot 0.9s ease-in-out infinite;
  will-change: transform;
  transform: translateZ(0);
}

.sh-loading__dot:nth-child(1) { animation-delay: -0.18s; opacity: 0.65; }
.sh-loading__dot:nth-child(2) { animation-delay: -0.09s; opacity: 0.8; }
.sh-loading__dot:nth-child(3) { animation-delay: 0s; }

.sh-loading--ring {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  user-select: none;
}

.sh-loading--ring::before,
.sh-loading--ring::after {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: 50%;
}

.sh-loading--ring::before {
  background: conic-gradient(
    from 0deg,
    rgba(255, 255, 255, 0) 0%,
    rgba(255, 255, 255, 0) 12%,
    var(--color-primary) 38%,
    var(--color-secondary) 62%,
    rgba(255, 255, 255, 0) 86%,
    rgba(255, 255, 255, 0) 100%
  );
  -webkit-mask: radial-gradient(
    farthest-side,
    transparent calc(100% - var(--sh-loading-ring)),
    #000 calc(100% - var(--sh-loading-ring))
  );
  mask: radial-gradient(
    farthest-side,
    transparent calc(100% - var(--sh-loading-ring)),
    #000 calc(100% - var(--sh-loading-ring))
  );
  animation: sh-loading-spin 1.05s linear infinite;
  /* 性能优化：移除滤镜阴影，改为常规阴影降低 GPU 压力 */
  box-shadow: 0 6px 14px rgba(255, 107, 0, 0.16);
  will-change: transform;
  transform: translateZ(0);
}

.sh-loading--ring::after {
  inset: calc(var(--sh-loading-ring) * 2.5);
  background: radial-gradient(
    circle at 30% 25%,
    rgba(255, 204, 0, 0.45),
    rgba(255, 107, 0, 0.18) 40%,
    rgba(255, 51, 102, 0.10) 72%,
    rgba(255, 255, 255, 0) 100%
  );
  /* 性能优化：缩小 glow 模糊半径，减少滤镜处理成本 */
  filter: blur(calc(var(--sh-loading-ring) * 0.9));
  animation: sh-loading-glow 1.35s ease-in-out infinite;
  will-change: transform, opacity;
}

@media (prefers-reduced-motion: reduce) {
  .skeleton::after {
    animation: none;
    transform: translateX(0);
  }
  .sh-loading--dots .sh-loading__dot,
  .sh-loading--ring::before,
  .sh-loading--ring::after {
    animation: none;
  }
  button[data-loading="true"]::after {
    animation: none;
    transform: translateX(0);
  }
}

p,
h1,
h2,
h3,
h4 {
  margin: 0;
}

a {
  color: inherit;
  text-decoration: none;
}

img {
  max-width: 100%;
  height: auto;
}

button,
input,
select {
  font: inherit;
}

button {
  border: 0;
  background: none;
  cursor: pointer;
}

button:disabled {
  cursor: not-allowed;
  opacity: 0.55;
}

:focus-visible {
  outline: 3px solid rgba(255, 107, 0, 0.55);
  outline-offset: 4px;
}

.app-shell {
  min-height: 100%;
  position: relative;
  z-index: 1;
}

.page {
  width: min(100%, var(--content-width));
  margin: 0 auto;
  /* padding: 132px var(--page-gutter) 90px; */
}

.hero + .page {
  padding-top: 0px;
}

.icon {
  width: 18px;
  height: 18px;
  stroke: currentColor;
  fill: none;
  stroke-width: 2;
  stroke-linecap: round;
  stroke-linejoin: round;
  flex-shrink: 0;
}

.muted {
  color: var(--muted);
}

/* ---------- Buttons ---------- */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  padding: 12px 18px;
  border-radius: 999px;
  font-weight: 800;
  letter-spacing: 0.2px;
  transition: transform 180ms ease, box-shadow 180ms ease, background 180ms ease,
    border-color 180ms ease, color 180ms ease;
  user-select: none;
  white-space: nowrap;
}

.btn--sm {
  padding: 10px 14px;
  font-size: 13px;
  font-weight: 800;
}

.btn--primary {
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  color: #fff;
  box-shadow: 0 14px 26px -16px rgba(255, 107, 0, 0.85);
}

.btn--primary:hover {
  transform: translateY(-1px);
  box-shadow: 0 18px 30px -18px rgba(255, 107, 0, 0.95);
}

/* 下载按钮：专属扫光轮播特效，hover 时保持平稳不位移。 */
.btn--download {
  position: relative;
  overflow: hidden;
  isolation: isolate;
}

/* 持续扫光层：使用 transform/opacity，避免重排并保持 GPU 合成。 */
.btn--download::before {
  content: "";
  position: absolute;
  inset: 0;
  width: 100%;
  border-radius: inherit;
  background: linear-gradient(
    120deg,
    transparent 0%,
    transparent 36%,
    rgba(255, 255, 255, 0.65) 46%,
    rgba(255, 255, 255, 0.25) 54%,
    transparent 64%,
    transparent 100%
  );
  opacity: 0;
  /* 扫光仅在按钮内部滑动，避免因 tooltip 允许溢出而出现“跑偏” */
  transform: translate3d(-30%, 0, 0);
  /* 默认不播放扫光，避免持续动效干扰；仅在 hover 时触发 */
  animation: none;
  pointer-events: none;
  z-index: 0;
  /* 动效仅用 transform/opacity，触发 GPU 合成 */
  will-change: transform, opacity;
}

/* 兼容加载态扫光：内容保持在光层之上，避免文字被遮挡。 */
.btn--download .btn__label,
.btn--download .btn__loading {
  position: relative;
  z-index: 1;
}

/* 图标保持在扫光层之上，避免高光覆盖导致可读性下降。 */
.btn--download .icon {
  position: relative;
  z-index: 1;
}

/* 下载按钮 hover：取消上浮，仅略增强阴影与亮度。 */
.btn--download:hover {
  transform: none;
  box-shadow: 0 18px 30px -18px rgba(255, 107, 0, 0.95);
  filter: brightness(1.02);
}

/* Hover 时启用扫光轮播，形成“可操作”的反馈节奏。 */
.btn--download:hover::before {
  animation: downloadSweep 1.4s ease-in-out infinite;
}

/* 下载按钮 active：只做轻微压感，不影响扫光节奏。 */
.btn--download:active {
  transform: scale(0.98);
}

.btn--ghost {
  background: rgba(255, 255, 255, 0.72);
  border: 1px solid rgba(255, 107, 0, 0.18);
  color: var(--text);
  box-shadow: 0 10px 26px -20px rgba(50, 20, 0, 0.18);
}

.btn--ghost:hover {
  transform: translateY(-1px);
  background: rgba(255, 255, 255, 0.92);
  border-color: rgba(255, 107, 0, 0.28);
}

.btn--soft {
  background: rgba(255, 107, 0, 0.12);
  border: 1px solid rgba(255, 107, 0, 0.18);
  color: var(--primary-strong);
}

/* ---------- Button Pending State ---------- */
/*
  按钮触发接口时的过渡态：
  - 使用 data-loading 控制
  - 扫光 + dots 的组合让“处理中”更直观
  - 动画基于 transform/opacity，避免重排
*/
@keyframes sh-button-sheen {
  0% { transform: translateX(-120%); }
  100% { transform: translateX(120%); }
}

/* 下载按钮扫光轮播：循环穿过按钮，形成持续高光流动感。 */
@keyframes downloadSweep {
  0% {
    opacity: 0;
    transform: translate3d(-30%, 0, 0);
  }
  25% {
    opacity: 0.7;
  }
  60% {
    opacity: 0.55;
  }
  100% {
    opacity: 0;
    transform: translate3d(30%, 0, 0);
  }
}

button[data-loading="true"] {
  position: relative;
  cursor: wait;
  pointer-events: none;
  overflow: hidden;
  /* 加载态时隐藏边框，让扫光覆盖到边缘，避免 1px 视觉缝隙。 */
  border-color: transparent;
}

button[data-loading="true"]::after {
  content: "";
  position: absolute;
  inset: -1px;
  border-radius: inherit;
  background: linear-gradient(120deg, transparent, rgba(255, 255, 255, 0.65), transparent);
  opacity: 0.7;
  transform: translateX(-120%);
  animation: sh-button-sheen 1.1s ease-in-out infinite;
  will-change: transform, opacity;
  pointer-events: none;
}

.btn__label {
  position: relative;
  z-index: 1;
}

/* Loading 容器默认“折叠”，避免占位导致按钮视觉偏移。 */
.btn__loading {
  --btn-loading-width: 22px;
  --btn-loading-height: 12px;
  position: relative;
  z-index: 1;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 0;
  height: var(--btn-loading-height);
  margin-left: 0;
  overflow: hidden;
  opacity: 0;
  transform: translateY(2px) scale(0.9);
  transition: opacity 180ms ease, transform 180ms ease, width 180ms ease, margin-left 180ms ease;
  color: currentColor;
  pointer-events: none;
}

.btn--sm .btn__loading {
  --btn-loading-width: 18px;
  --btn-loading-height: 10px;
}

button[data-loading="true"] .btn__label {
  opacity: 0.65;
}

button[data-loading="true"] .btn__loading {
  opacity: 1;
  transform: translateY(0) scale(1);
  width: var(--btn-loading-width);
  margin-left: 8px;
}

/* 菜单项里的 loading 右对齐，仅在加载时占位 */
.user-menu__item[data-loading="true"] .btn__loading {
  margin-left: auto;
}

/* 过滤/排序/分页在加载中也需要保留可读性 */
.segmented__item:disabled,
.sort-switch__btn:disabled,
.pagination__btn:disabled,
.page-btn:disabled {
  opacity: 0.78;
}

.segmented__item:disabled[data-loading="true"],
.sort-switch__btn:disabled[data-loading="true"],
.pagination__btn:disabled[data-loading="true"],
.page-btn:disabled[data-loading="true"] {
  opacity: 0.92;
}

.btn-badge {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  margin-left: 6px;
  padding: 3px 10px;
  border-radius: 999px;
  background: rgba(255, 255, 255, 0.22);
  border: 1px solid rgba(255, 255, 255, 0.28);
  font-size: 12px;
  font-weight: 900;
  letter-spacing: 0.2px;
}

.icon-btn {
  width: 38px;
  height: 38px;
  border-radius: 999px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  background: rgba(255, 255, 255, 0.82);
  border: 1px solid rgba(255, 107, 0, 0.18);
  box-shadow: 0 12px 24px -20px rgba(50, 20, 0, 0.18);
  transition: transform 160ms ease, background 160ms ease, border-color 160ms ease;
}

.icon-btn:hover {
  transform: translateY(-1px);
  background: rgba(255, 255, 255, 0.96);
  border-color: rgba(255, 107, 0, 0.28);
}

/* ---------- Pills / Badges ---------- */
.pill {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 8px 12px;
  border-radius: 999px;
  border: 1px solid rgba(255, 107, 0, 0.16);
  background: rgba(255, 255, 255, 0.72);
  color: var(--muted);
  font-size: 13px;
  font-weight: 700;
}

.pill--soft {
  background: rgba(255, 255, 255, 0.62);
}

.badge {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 7px 12px;
  border-radius: 999px;
  font-size: 12px;
  font-weight: 900;
  letter-spacing: 0.2px;
  border: 1px solid rgba(255, 107, 0, 0.16);
  background: rgba(255, 107, 0, 0.11);
  color: var(--primary-strong);
}

.badge--channel {
  background: rgba(255, 51, 102, 0.12);
  border-color: rgba(255, 51, 102, 0.18);
  color: #c81a48;
}

.stat {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 7px 10px;
  border-radius: 999px;
  background: rgba(255, 255, 255, 0.68);
  border: 1px solid rgba(255, 107, 0, 0.14);
  color: var(--text);
  font-size: 14px;
  font-weight: 900;
  letter-spacing: 0.2px;
  line-height: 1;
  white-space: nowrap;
}

.stat .icon {
  width: 16px;
  height: 16px;
}

.stat--heat {
  background: rgba(255, 107, 0, 0.12);
  border-color: rgba(255, 107, 0, 0.22);
  color: var(--primary-strong);
}

.stat--empty {
  background: rgba(255, 255, 255, 0.55);
  border-color: rgba(124, 94, 77, 0.18);
  color: rgba(124, 94, 77, 0.82);
}

.stat--empty .icon {
  opacity: 0.65;
}

.tag {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 6px 14px 6px 12px;
  border-radius: 999px;
  background: rgba(255, 107, 0, 0.1);
  border: 1px solid rgba(255, 107, 0, 0.16);
  color: #d64700;
  font-size: 12px;
  font-weight: 800;
  letter-spacing: 0.3px;
  line-height: 1;
  white-space: nowrap;
}

/* 标签图标与文字的节奏更协调：缩小图标并轻微下移，让基线更齐 */
.tag .icon {
  width: 14px;
  height: 14px;
  stroke-width: 2.1;
  transform: translateY(0.5px);
}

/* ---------- Floating Header ---------- */
.app-header {
  position: fixed;
  top: 24px;
  left: 50%;
  transform: translateX(-50%);
  width: min(90%, 1200px);
  z-index: 100;
  background: rgba(255, 255, 255, 0.7);
  /* 性能优化：降低 blur 半径，减少 fixed + backdrop-filter 叠加造成的离屏渲染开销 */
  backdrop-filter: blur(12px) saturate(160%);
  border: 1px solid rgba(255, 255, 255, 0.8);
  border-radius: var(--radius-xl);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.04);
  transition: width 0.3s cubic-bezier(0.2, 0.8, 0.2, 1);
}

.app-header__inner {
  width: 100%;
  padding: 10px 16px;
  display: flex;
  align-items: center;
  gap: 24px;
}

.logo {
  display: inline-flex;
  align-items: center;
  gap: 12px;
  font-family: var(--font-heading);
  font-weight: 700;
  font-size: 22px;
  color: var(--color-text);
  white-space: nowrap;
  flex-shrink: 0;
}

.logo-icon {
  width: 48px;
  height: 48px;
  border-radius: 18px;
  background: linear-gradient(135deg, #ff7a2b, #ff4d6a);
  border: 1px solid rgba(255, 255, 255, 0.55);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 14px 26px -12px rgba(255, 94, 98, 0.5),
    0 0 0 1px rgba(255, 255, 255, 0.35) inset;
  transform-origin: center;
  transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
  will-change: transform;
}

.logo-icon svg {
  width: 30px;
  height: 30px;
  position: relative;
}

.logo:hover .logo-icon svg {
  animation: logoFanSpin 0.2s linear infinite;
  transform-origin: center;
}

@keyframes logoFanSpin {
  0% {
    transform: rotate(0deg) scale(1.06);
  }
  100% {
    transform: rotate(360deg) scale(1.06);
  }
}

.logo-text {
  letter-spacing: -0.5px;
}

.search {
  flex: 0 1 500px;
  width: 100%;
  margin-left: auto;
  display: flex;
  align-items: center;
  gap: 10px;
  background: rgba(255, 255, 255, 0.5);
  border-radius: 999px;
  padding: 6px 6px 6px 14px;
  border: 1px solid rgba(255, 107, 0, 0.2);
  transition: all 0.2s ease;
}

.search:focus-within {
  background: #ffffff;
  border-color: var(--color-primary);
  box-shadow: 0 0 0 4px rgba(255, 107, 0, 0.1);
}

.search input {
  flex: 1;
  border: none;
  background: transparent;
  font-size: 15px;
  font-weight: 500;
  color: var(--color-text);
  padding: 8px 0;
  outline: none;
}

/* 搜索框去掉浏览器自带的清除按钮（“x”），避免和定制化视觉冲突 */
.search input[type="search"]::-webkit-search-cancel-button {
  -webkit-appearance: none;
  appearance: none;
  display: none;
}

/* 兼容旧版 Edge 的清除按钮 */
.search input[type="search"]::-ms-clear,
.search input[type="search"]::-ms-reveal {
  display: none;
  width: 0;
  height: 0;
}

.search input::placeholder {
  color: var(--color-text-muted);
  opacity: 0.7;
}

.search__icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  color: var(--color-text-muted);
  pointer-events: none;
}

.search:focus-within .search__icon {
  color: var(--color-primary-strong);
}

.search button {
  /* 搜索按钮改为无边框风格：去掉描边，仅保留柔和底色与投影层级 */
  padding: 10px 24px;
  border-radius: 999px;
  background: rgba(255, 255, 255, 0.96);
  color: var(--primary-strong);
  border: none;
  font-weight: 700;
  font-size: 14px;
  letter-spacing: 0.5px;
  /* 投影代替描边：轻微外发光让按钮可识别但不厚重 */
  box-shadow: 0 10px 22px -18px rgba(255, 107, 0, 0.35),
    0 0 0 1px rgba(255, 255, 255, 0.6) inset;
  transition: all 0.2s ease;
}

.search button:hover {
  background: #ffffff;
  transform: translateY(-1px);
  box-shadow: 0 16px 30px -20px rgba(255, 107, 0, 0.45),
    0 0 0 1px rgba(255, 255, 255, 0.78) inset;
}

.nav-actions {
  display: flex;
  align-items: center;
  gap: 12px;
  flex-shrink: 0;
}

.action-chip {
  height: 40px;
  padding: 0 14px;
  border-radius: 999px;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  background: rgba(255, 255, 255, 0.72);
  border: 1px solid rgba(255, 107, 0, 0.18);
  color: var(--text);
  font-weight: 800;
  letter-spacing: 0.1px;
  box-shadow: 0 10px 26px -20px rgba(50, 20, 0, 0.18);
  transition: transform 180ms ease, box-shadow 180ms ease, background 180ms ease, border-color 180ms ease;
}

.action-chip span {
  font-weight: 700;
}

.action-chip:hover {
  transform: translateY(-1px);
  background: rgba(255, 255, 255, 0.92);
  border-color: rgba(255, 107, 0, 0.28);
}

.action-chip:disabled {
  opacity: 0.6;
  cursor: not-allowed;
  transform: none;
}

.user-menu {
  position: relative;
  display: inline-flex;
}

.user-menu__panel {
  position: absolute;
  top: calc(100% + 6px);
  right: 0;
  min-width: 140px;
  padding: 6px;
  border-radius: 14px;
  background: rgba(255, 255, 255, 0.96);
  border: 1px solid rgba(255, 107, 0, 0.18);
  box-shadow: 0 16px 30px -18px rgba(0, 0, 0, 0.25);
  opacity: 0;
  transform: translateY(-6px);
  pointer-events: none;
  transition: opacity 160ms ease, transform 160ms ease;
  z-index: 20;
}

.user-menu__panel::before {
  content: "";
  position: absolute;
  top: -8px;
  left: 0;
  right: 0;
  height: 8px;
}

.user-menu:hover .user-menu__panel,
.user-menu:focus-within .user-menu__panel {
  opacity: 1;
  transform: translateY(0);
  pointer-events: auto;
}

.user-menu__item {
  width: 100%;
  display: inline-flex;
  align-items: center;
  gap: 10px;
  padding: 10px 12px;
  border-radius: 10px;
  font-weight: 800;
  color: var(--text);
  background: transparent;
  transition: background 150ms ease, color 150ms ease;
}

.user-menu__item:hover {
  background: rgba(255, 107, 0, 0.12);
  color: var(--primary-strong);
}

.user-chip {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  height: 40px;
  padding: 0 14px;
  border-radius: 999px;
  background: rgba(255, 255, 255, 0.72);
  border: 1px solid rgba(255, 107, 0, 0.16);
  font-weight: 800;
  line-height: 1;
}

.user-chip--guest {
  padding-left: 14px;
}

.user-chip--logged {
  padding: 4px;
  width: 44px;
  justify-content: center;
}

.user-chip__icon {
  color: var(--muted);
}

.avatar {
  width: 34px;
  height: 34px;
  border-radius: 50%;
  background: radial-gradient(circle at 30% 25%, rgba(255, 255, 255, 0.95), rgba(255, 255, 255, 0) 60%),
    linear-gradient(135deg, rgba(255, 204, 0, 0.9), rgba(255, 107, 0, 0.9));
  box-shadow: 0 10px 22px -18px rgba(255, 107, 0, 0.75);
  border: 1px solid rgba(255, 255, 255, 0.6);
}

.avatar--sm {
  width: 26px;
  height: 26px;
}

.avatar--header {
  width: 32px;
  height: 32px;
}

.avatar--img {
  width: 34px;
  height: 34px;
  border-radius: 50%;
  object-fit: cover;
  border: 1px solid rgba(255, 255, 255, 0.6);
  box-shadow: 0 10px 22px -18px rgba(255, 107, 0, 0.5);
}

.avatar--img.avatar--header {
  width: 32px;
  height: 32px;
}

.user-name {
  font-weight: 900;
  font-size: 13px;
  color: var(--text);
  max-width: 96px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* ---------- Header Actions (SkillHub style) ---------- */
.nav-actions {
  display: flex;
  align-items: center;
  gap: 16px;
  flex-shrink: 0;
}

.nav-actions__links {
  display: inline-flex;
  align-items: center;
  gap: 10px;
}

/*
  Header 右侧 Auth 区（“+ Skill / 登录 / 用户菜单”）：
  - 这里必须显式用 inline-flex + gap 控制按钮间距
  - 否则 React/HTML 的空白文本节点、以及不同浏览器对 inline 元素的间距处理，
    可能导致“+ Skill”和“登录”之间的视觉间隔不一致（用户验收反馈）
  - gap 数值与 nav-actions__links 对齐，保证右侧按钮节奏统一
*/
.nav-actions__auth {
  display: inline-flex;
  align-items: center;
  gap: 10px;
}

.nav-actions__link {
  font-size: 13px;
}

.nav-actions__link.ghost--compact {
  padding: 10px 16px;
}

.nav-actions__link--pending {
  opacity: 0.6;
  cursor: not-allowed;
  border-style: dashed;
  box-shadow: none;
}

.nav-actions__link--pending:hover {
  transform: none;
  color: var(--color-text-muted);
  border-color: rgba(255, 107, 0, 0.12);
  box-shadow: none;
  background: rgba(255, 255, 255, 0.85);
}

/* ---------- Community Modal (Header) ---------- */
.community-modal {
  position: fixed;
  inset: 0;
  z-index: 220;
  /* 轻微上移弹窗，视觉更贴近 Hero 中心 */
  --community-modal-offset-y: -18px;
  /* 需要遮罩可点击（点击外部关闭），因此不能关闭 pointer-events */
  pointer-events: auto;
}

.community-modal__backdrop {
  position: fixed;
  inset: 0;
  z-index: 0;
  border: 0;
  padding: 0;
  cursor: default;
  /* 遮罩略加深：减少底层元素“穿透感” */
  background: rgba(26, 21, 16, 0.42);
  backdrop-filter: blur(2px);
  -webkit-backdrop-filter: blur(2px);
  /* 入场动画仅用 opacity（合成层友好） */
  animation: communityBackdropIn 220ms ease both;
  will-change: opacity;
}

.community-modal__panel {
  position: fixed;
  /* 用 viewport 单位避免被 header 的 transform 影响定位基准 */
  left: 50vw;
  top: 50vh;
  z-index: 1;
  width: min(90vw, 360px);
  padding: 24px 24px 22px;
  border-radius: 22px;
  background: #ffffff;
  border: 1px solid rgba(255, 107, 0, 0.14);
  /* 卡片阴影更轻，避免“浮层过重”的视觉问题 */
  box-shadow:
    0 18px 40px -28px rgba(255, 107, 0, 0.35),
    0 16px 32px -24px rgba(0, 0, 0, 0.2),
    0 0 0 1px rgba(255, 255, 255, 0.7) inset;
  /* 入场动画用 transform + opacity，GPU 合成更稳定 */
  animation: communityModalIn 220ms cubic-bezier(0.16, 1, 0.3, 1) both;
  will-change: transform, opacity;
  /* 固定在视口中心，并轻微上移 */
  transform: translate3d(-50%, calc(-50% + var(--community-modal-offset-y)), 0);
  outline: none;
  pointer-events: auto;
}

/* 顶部氛围光移除，避免顶部偏灰导致的视觉“脏”感 */
/* 说明：保留占位注释便于后续回滚或再引入氛围层。 */

.community-modal__close {
  position: absolute;
  right: 16px;
  top: 16px;
  width: 34px;
  height: 34px;
  border-radius: 999px;
  border: none;
  cursor: pointer;
  appearance: none;
  background: rgba(255, 255, 255, 0.85);
  color: var(--color-text-muted);
  box-shadow: 0 8px 18px -12px rgba(0, 0, 0, 0.18);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  transition: transform 160ms ease, background 160ms ease, color 160ms ease;
}

.community-modal__close:hover {
  background: #ffffff;
  color: var(--color-primary-strong);
  transform: scale(1.05);
}

.community-modal__close:focus-visible {
  outline: 2px solid rgba(255, 107, 0, 0.4);
  outline-offset: 2px;
}

.community-modal__header {
  display: grid;
  gap: 10px;
  margin-bottom: 18px;
}

.community-modal__badge {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  align-self: flex-start;
  padding: 6px 12px;
  border-radius: 999px;
  background: rgba(255, 107, 0, 0.12);
  color: rgba(205, 74, 0, 0.95);
  font-size: 12px;
  font-weight: 800;
  letter-spacing: 0.3px;
}

.community-modal__header h2 {
  font-family: var(--font-heading);
  font-size: 22px;
  letter-spacing: -0.4px;
  margin: 0;
}

.community-modal__desc {
  margin: 0;
  color: var(--color-text-muted);
  font-size: 14px;
  line-height: 1.6;
}

.community-modal__qr {
  display: grid;
  justify-items: center;
  gap: 12px;
  margin: 18px 0 16px;
}

/* 双二维码布局：桌面双列并排，移动端自动堆叠。 */
.community-modal__qr-grid {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 12px;
  width: 100%;
  justify-items: center;
}

.community-modal__qr-card {
  display: grid;
  justify-items: center;
  gap: 6px;
}

.community-modal__qr-frame {
  padding: 8px;
  border-radius: 16px;
  background: #fff7f0;
  border: 1px solid rgba(255, 214, 175, 0.55);
  box-shadow: 0 12px 22px -18px rgba(255, 107, 0, 0.25);
}

.community-modal__qr-frame img {
  width: 120px;
  height: 120px;
  border-radius: 10px;
  display: block;
}

.community-modal__qr-label {
  font-size: 12px;
  font-weight: 700;
  color: rgba(124, 94, 77, 0.9);
}

.community-modal__qr-tip {
  font-size: 12px;
  color: rgba(124, 94, 77, 0.9);
}

@media (max-width: 420px) {
  .community-modal__qr-grid {
    grid-template-columns: 1fr;
  }

  .community-modal__qr-frame img {
    width: 160px;
    height: 160px;
  }
}

.community-modal__topics {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-bottom: 4px;
}

.community-modal__topic {
  padding: 6px 12px;
  border-radius: 999px;
  background: rgba(255, 255, 255, 0.95);
  border: 1px solid rgba(255, 107, 0, 0.1);
  font-size: 12px;
  font-weight: 700;
  color: rgba(80, 52, 40, 0.85);
}

@keyframes communityModalIn {
  from {
    opacity: 0;
    transform: translate3d(-50%, calc(-50% + var(--community-modal-offset-y) + 8px), 0) scale(0.98);
  }
  to {
    opacity: 1;
    transform: translate3d(-50%, calc(-50% + var(--community-modal-offset-y)), 0) scale(1);
  }
}

@keyframes communityBackdropIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@media (prefers-reduced-motion: reduce) {
  .community-modal__backdrop {
    animation: none;
  }

  .community-modal__panel {
    animation: none;
  }
}

.primary {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  padding: 14px 28px;
  border-radius: 999px;
  background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
  color: #ffffff;
  font-weight: 700;
  font-size: 16px;
  box-shadow: 0 10px 20px -5px rgba(255, 107, 0, 0.4);
  transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.primary:hover {
  transform: translateY(-2px) scale(1.02);
  box-shadow: 0 15px 30px -8px rgba(255, 107, 0, 0.5);
  background: linear-gradient(135deg, #ff8533, #ff4d79);
}

.primary:active {
  transform: translateY(0) scale(0.96);
}

.primary:disabled {
  opacity: 0.88;
  box-shadow: 0 6px 14px -6px rgba(0, 0, 0, 0.18);
  transform: none;
  filter: saturate(0.92);
}

.primary:disabled:hover {
  transform: none;
  box-shadow: 0 6px 14px -6px rgba(0, 0, 0, 0.18);
}

.ghost {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  padding: 12px 24px;
  border-radius: 999px;
  border: 1px solid rgba(255, 107, 0, 0.1);
  background: rgba(255, 255, 255, 0.9);
  color: var(--color-text);
  font-weight: 600;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.03);
  transition: all 0.2s ease;
}

.ghost:hover {
  background: #ffffff;
  border-color: rgba(255, 107, 0, 0.2);
  color: var(--color-primary-strong);
  box-shadow: 0 8px 16px -4px rgba(0, 0, 0, 0.05);
  transform: translateY(-1px);
}

.ghost:active {
  transform: scale(0.96);
}

.ghost--compact {
  padding: 9px 14px;
  font-size: 13px;
}

.ghost--soft {
  background: rgba(255, 255, 255, 0.72);
  border-color: rgba(255, 107, 0, 0.08);
  color: var(--color-text-muted);
  font-weight: 600;
}

.ghost--soft:hover {
  color: var(--color-text);
  border-color: rgba(255, 107, 0, 0.16);
  box-shadow: 0 6px 14px -6px rgba(0, 0, 0, 0.06);
}

.user-menu {
  position: relative;
}

.user-menu::after {
  content: "";
  position: absolute;
  right: 0;
  top: 52px;
  width: 200px;
  height: 18px;
  background: transparent;
  opacity: 0;
  pointer-events: none;
}

.user-avatar-btn {
  position: relative;
  padding: 2px;
  border-radius: 50%;
  border: 2px solid rgba(255, 255, 255, 0.5);
  transition: all 0.2s;
  width: 52px;
  height: 52px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.user-avatar-btn:hover {
  border-color: var(--color-primary);
}

.user-avatar__chevron {
  position: absolute;
  right: -2px;
  bottom: -2px;
  width: 18px;
  height: 18px;
  border-radius: 999px;
  background: rgba(255, 255, 255, 0.9);
  border: 1px solid rgba(255, 107, 0, 0.2);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 4px 10px rgba(255, 107, 0, 0.18);
}

.user-avatar__chevron .icon {
  width: 12px;
  height: 12px;
}

.user-avatar {
  width: 44px;
  height: 44px;
  border-radius: 50%;
  object-fit: cover;
}

.user-avatar--placeholder {
  background: linear-gradient(135deg, #ffd700, #ff9966);
}

.user-menu__panel {
  position: absolute;
  right: 0;
  top: 60px;
  min-width: 180px;
  background: rgba(255, 255, 255, 0.9);
  backdrop-filter: blur(12px);
  border: 1px solid rgba(255, 255, 255, 0.75);
  border-radius: var(--radius-md);
  padding: 8px;
  box-shadow: var(--shadow-float);
  opacity: 0;
  pointer-events: none;
  transform: translateY(10px) scale(0.9);
  transform-origin: top right;
  transition: opacity 0.2s ease, transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.user-menu__panel::before {
  display: none;
}

.user-menu:focus-within .user-menu__panel,
.user-menu:hover .user-menu__panel {
  opacity: 1;
  pointer-events: auto;
  transform: translateY(0);
}

.user-menu:focus-within::after,
.user-menu:hover::after,
.user-menu[data-open="true"]::after {
  opacity: 1;
  pointer-events: auto;
}

.user-menu[data-open="true"] .user-menu__panel {
  opacity: 1;
  pointer-events: auto;
  transform: translateY(0);
}

.user-menu__item {
  width: 100%;
  text-align: left;
  padding: 8px 10px;
  border-radius: 10px;
  font-size: 14px;
  color: var(--color-text);
  transition: background 0.2s ease, color 0.2s ease;
  display: inline-flex;
  align-items: center;
  gap: 8px;
}

.user-menu__item:hover {
  background: rgba(249, 115, 22, 0.12);
  color: var(--color-primary-strong);
}

/* ---------- Hero (Banner) ---------- */
.hero {
  width: 100vw;
  margin: 0 18px 0 0;
  position: relative;
  overflow: hidden;
  z-index: 1;
}

.hero__bg {
  position: absolute;
  inset: -170px -18vw 0;
  pointer-events: none;
  z-index: 0;
  isolation: isolate;
  contain: paint;
  /* GPU 合成层优化：稳定 Hero 背景层合成，减少合成抖动 */
  transform: translate3d(0, 0, 0);
  backface-visibility: hidden;
  will-change: transform;
  mask-image: linear-gradient(
    to bottom,
    rgba(0, 0, 0, 0.95) 0%,
    rgba(0, 0, 0, 0.85) 55%,
    rgba(0, 0, 0, 0.35) 85%,
    rgba(0, 0, 0, 0) 100%
  );
  -webkit-mask-image: linear-gradient(
    to bottom,
    rgba(0, 0, 0, 0.95) 0%,
    rgba(0, 0, 0, 0.85) 55%,
    rgba(0, 0, 0, 0.35) 85%,
    rgba(0, 0, 0, 0) 100%
  );
}

.glow {
  position: absolute;
  /* 性能优化：缩小光晕尺寸，降低大面积滤镜带来的 GPU 压力 */
  width: 440px;
  height: 440px;
  border-radius: 50%;
  /* 性能优化：降低 blur 半径，减少实时滤镜成本 */
  filter: blur(40px);
  opacity: 0.5;
  /* GPU 合成层优化：发光层持续位移时保持稳定合成，减少闪烁 */
  transform: translate3d(0, 0, 0);
  backface-visibility: hidden;
  /* 性能优化：延长动画周期并仅保留 transform，减少合成与显存占用 */
  animation: glowDrift 32s ease-in-out infinite alternate;
  will-change: transform;
}

.glow--pink {
  left: 4%;
  top: 0;
  background: radial-gradient(circle, rgba(255, 51, 102, 0.55), rgba(255, 51, 102, 0));
  animation-duration: 26s;
}

.glow--orange {
  right: 4%;
  top: -30px;
  background: radial-gradient(circle, rgba(255, 107, 0, 0.56), rgba(255, 107, 0, 0));
  animation-delay: -6s;
  animation-duration: 22s;
}

.glow--yellow {
  right: 22%;
  bottom: -40px;
  background: radial-gradient(circle, rgba(255, 204, 0, 0.46), rgba(255, 204, 0, 0));
  animation-delay: -10s;
  animation-duration: 28s;
}

.spark {
  position: absolute;
  width: 7px;
  height: 7px;
  border-radius: 999px;
  background: rgba(255, 255, 255, 0.92);
  /* 性能优化：降低光点阴影强度，减少高频像素填充 */
  box-shadow: 0 0 8px rgba(255, 255, 255, 0.45);
  opacity: 0.55;
  /* GPU 合成层优化：小粒子持续位移时减少闪烁与抖动 */
  transform: translate3d(0, 0, 0);
  backface-visibility: hidden;
  /* 性能优化：仅保留 transform 合成层提示，避免过多 opacity 合成层 */
  will-change: transform;
  animation: sparkFloat 12s ease-in-out infinite;
}

.spark--one {
  left: 16%;
  top: 36%;
  animation-duration: 12s;
}

.spark--two {
  right: 22%;
  top: 16%;
  animation-delay: -4s;
  animation-duration: 9s;
}

.spark--three {
  right: 10%;
  bottom: 30%;
  animation-delay: -7s;
  animation-duration: 14s;
}

@keyframes glowDrift {
  0% {
    transform: translate3d(0, 0, 0) scale(1);
  }
  100% {
    transform: translate3d(14px, -8px, 0) scale(0.98);
  }
}

@keyframes sparkFloat {
  0% {
    transform: translate3d(0, 0, 0) scale(0.95);
  }
  50% {
    transform: translate3d(8px, -12px, 0) scale(1.05);
  }
  100% {
    transform: translate3d(-4px, 4px, 0) scale(0.98);
  }
}

@media (prefers-reduced-motion: reduce) {
  .glow,
  .spark {
    animation: none;
  }
}

.hero__inner {
  position: relative;
  z-index: 2;
  width: min(100%, var(--content-width));
  margin: 0 auto;
  padding: 148px var(--page-gutter) 56px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 64px;
  min-height: 520px;
}

.badge--hero {
  background: rgba(255, 107, 0, 0.14);
  border-color: rgba(255, 107, 0, 0.18);
  color: rgba(230, 82, 0, 0.95);
}

.hero-copy {
  position: relative;
  max-width: 760px;
  padding: 0;
  background: transparent;
  border: 0;
  box-shadow: none;
}

.hero-copy::before {
  display: none;
}

.hero-copy > * {
  position: relative;
  z-index: 1;
}

.hero-copy__top {
  display: flex;
  align-items: center;
  gap: 10px;
  flex-wrap: wrap;
  margin-bottom: 14px;
}

.hero-copy__pill {
  font-weight: 900;
  color: rgba(124, 94, 77, 0.88);
}

.hero-copy__title {
  display: grid;
  gap: 18px;
  font-family: var(--font-heading);
  line-height: 1.08;
}

.hero-copy__brand {
  --brand-aura-size: 150%;
  --brand-aura-speed: 9s;
  --brand-aura-1: rgba(255, 204, 0, 0.9);
  --brand-aura-2: rgba(255, 107, 0, 0.86);
  --brand-aura-3: rgba(255, 51, 102, 0.26);
  --brand-aura-4: rgba(255, 255, 255, 0.44);

  display: inline-block;
  font-size: clamp(54px, 5.2vw, 84px);
  font-weight: 900;
  letter-spacing: -2px;
  background-image:
    linear-gradient(115deg, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.46) 14%, rgba(255, 255, 255, 0) 30%),
    radial-gradient(at 62% 9%, var(--brand-aura-1) 0px, transparent 44%),
    radial-gradient(at 69% 60%, var(--brand-aura-2) 0px, transparent 48%),
    radial-gradient(at 24% 89%, var(--brand-aura-3) 0px, transparent 52%),
    radial-gradient(at 51% 77%, var(--brand-aura-4) 0px, transparent 58%),
    radial-gradient(at 78% 92%, var(--brand-aura-1) 0px, transparent 50%),
    linear-gradient(135deg, var(--primary-strong) 0%, var(--primary) 56%, var(--accent) 120%);
  background-blend-mode: screen, screen, screen, screen, screen, screen, normal;
  background-size: 240% 180%, var(--brand-aura-size) var(--brand-aura-size),
    var(--brand-aura-size) var(--brand-aura-size), var(--brand-aura-size) var(--brand-aura-size),
    var(--brand-aura-size) var(--brand-aura-size), var(--brand-aura-size) var(--brand-aura-size), 100% 100%;
  background-position: -40% 30%, 50% 50%, 30% 120%, 110% 0%, 10% 20%, 0% 80%, 50% 50%;
  /* 频闪优化：仅保留“高光层”位移动画，其它层保持静止，减少合成抖动。 */
  animation: brandAura var(--brand-aura-speed) linear infinite;
  /* 性能提示：告知浏览器仅跟踪背景位置变化，避免无关层的重复重绘。 */
  will-change: background-position, transform;
  /* GPU 加速：提升为独立合成层，降低动画过程中的闪烁概率。 */
  transform: translate3d(0, 0, 0);
  backface-visibility: hidden;
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  color: transparent;
  text-shadow: 0 0 0.32ch rgba(255, 107, 0, 0.14), 0 0 0.9ch rgba(255, 204, 0, 0.1);
  filter: saturate(1.16) contrast(1.05) drop-shadow(0 10px 18px rgba(255, 107, 0, 0.08));
}

@keyframes brandAura {
  0% {
    /* 只移动第一层线性高光，其余 6 层保持固定位置，减少每帧重绘量。 */
    background-position: -40% 30%, 50% 50%, 30% 120%, 110% 0%, 10% 20%, 0% 80%, 50% 50%;
  }
  50% {
    /* 高光从左上扫到右下，其他层不动，避免整组渐变同步位移。 */
    background-position: 140% 70%, 50% 50%, 30% 120%, 110% 0%, 10% 20%, 0% 80%, 50% 50%;
  }
  100% {
    /* 回到初始位置形成平滑循环。 */
    background-position: -40% 30%, 50% 50%, 30% 120%, 110% 0%, 10% 20%, 0% 80%, 50% 50%;
  }
}

@media (prefers-reduced-motion: reduce) {
  .hero-copy__brand {
    animation: none;
  }
}

.hero-copy__rule {
  width: 86px;
  height: 4px;
  border-radius: 999px;
  background: rgba(26, 21, 16, 0.86);
  box-shadow: 0 18px 30px -24px rgba(50, 20, 0, 0.28);
}

.hero-copy__slogan {
  font-family: var(--font-body);
  font-size: clamp(20px, 2.2vw, 28px);
  font-weight: 850;
  color: rgba(26, 21, 16, 0.96);
  line-height: 1.45;
  letter-spacing: -0.45px;
  max-width: 34ch;
}

/* Hero 主 Slogan 重点词样式：仅用颜色与字重强调，保持轻量与高级感。 */
.hero-copy__slogan-emphasis {
  font-weight: 900;
  /* 参考“Skill Hub 中国”渐变文字：弱化光晕、保留质感。 */
  color: var(--primary-strong);
  background-image: linear-gradient(
    110deg,
    var(--primary-strong) 0%,
    var(--primary) 46%,
    var(--accent) 78%,
    var(--secondary) 120%
  );
  background-size: 160% 160%;
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  text-shadow: 0 0 0.28em rgba(255, 107, 0, 0.14), 0 0 0.6em rgba(255, 204, 0, 0.12);
  filter: saturate(1.16) contrast(1.05) drop-shadow(0 10px 18px rgba(255, 107, 0, 0.08));
}

.hero__subtitle {
  font-size: 18px; /* readable body size */
  color: var(--color-text-muted);
  font-weight: 500;
  margin-top: 16px;
  line-height: 1.6;
}

.hero-copy__subtitle {
  margin-top: 14px;
  color: rgba(124, 94, 77, 0.92);
  font-size: 15px;
  line-height: 1.75;
  max-width: 64ch;
}

.hero-copy__actions {
  display: flex;
  align-items: center;
  gap: 12px;
  flex-wrap: wrap;
  margin-top: 18px;
}

.hero-copy__facts {
  display: flex;
  align-items: center;
  gap: 10px 14px;
  flex-wrap: wrap;
  margin-top: 18px;
  color: rgba(124, 94, 77, 0.84);
  font-weight: 900;
  font-size: 13px;
}

.hero-fact {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 8px 12px;
  border-radius: 999px;
  background: rgba(255, 255, 255, 0.62);
  border: 1px solid rgba(255, 107, 0, 0.12);
}

.hero-fact__dot {
  width: 10px;
  height: 10px;
  border-radius: 999px;
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  box-shadow: 0 10px 18px -14px rgba(255, 107, 0, 0.9);
}

.hero-showcase {
  /* Hero 推荐卡片尺寸变量：用于占位与真实卡片保持一致 */
  --hero-card-w: clamp(230px, 24vw, 320px);
  --hero-card-h: clamp(300px, 32vw, 420px);
  /* Hero 展示区内边距变量：用于计算稳定的容器高度 */
  --hero-pad-x: clamp(4px, 0.8vw, 10px);
  --hero-pad-top: clamp(6px, 1.2vw, 12px);
  --hero-pad-bottom: clamp(18px, 2.4vw, 26px);
  position: relative;
  min-width: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  flex: 0 0 auto;
  margin-left: auto;
  /* 推荐卡片位置微调：让卡牌组与标题区形成更稳的中心对齐 */
  align-self: center;
  margin-top: clamp(6px, 1.6vw, 18px);
  margin-right: clamp(0px, 1.2vw, 16px);
  /* 留出底部空间给“承托”光晕，提升稳定感 */
  padding: var(--hero-pad-top) var(--hero-pad-x) var(--hero-pad-bottom);
  /* 固定展示区尺寸，避免加载前后出现高度塌陷 */
  width: calc(var(--hero-card-w) + var(--hero-pad-x) * 2);
  min-height: calc(var(--hero-card-h) + var(--hero-pad-top) + var(--hero-pad-bottom));
  box-sizing: border-box;
  overflow: visible;
}

.hero-showcase__skeleton {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1;
  pointer-events: none;
  opacity: 1;
  transform: translate3d(0, 0, 0);
  filter: blur(0);
  /* 骨架过渡只动 opacity/transform，保证性能 */
  transition: opacity 260ms ease, transform 420ms cubic-bezier(0.16, 1, 0.3, 1), filter 420ms ease;
  /* 首次出现淡入，避免图 1 -> 图 2 的突兀感 */
  animation: heroSkeletonIn 360ms ease-out both;
  will-change: opacity, transform;
}

.hero-showcase[data-loaded="true"] .hero-showcase__skeleton {
  opacity: 0;
  transform: translate3d(0, 6px, 0) scale(0.985);
  filter: blur(2px);
  transition-delay: 120ms;
  /* 取消入场动画的 fill-mode 影响，确保淡出可生效 */
  animation: none;
}

.hero-showcase__content {
  position: relative;
  z-index: 2;
  /* 内容入场：仅动 opacity/transform，避免滤镜动画带来性能负担 */
  animation: heroShowcaseIn 520ms cubic-bezier(0.16, 1, 0.3, 1) both;
  animation-delay: 180ms;
}

.hero-showcase[data-loaded="false"] .hero-showcase__content {
  pointer-events: none;
}

.hero-skeleton-deck {
  width: var(--hero-card-w);
  height: var(--hero-card-h);
  position: relative;
  /* 尺寸与 practice-swiper 对齐，防止加载完成后跳动 */
  transform: translate3d(0, 6px, 0);
  filter: drop-shadow(0 26px 54px rgba(255, 120, 0, 0.08));
}

.hero-skeleton-card {
  position: absolute;
  inset: 0;
  border-radius: 26px;
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.86), rgba(255, 255, 255, 0.94));
  border: 1px solid rgba(255, 214, 175, 0.58);
  overflow: hidden;
}

.hero-skeleton-card--back {
  opacity: 0.32;
  transform: translate3d(-18px, 14px, 0) rotate(-6deg) scale(0.98);
}

.hero-skeleton-card--mid {
  opacity: 0.45;
  transform: translate3d(16px, 10px, 0) rotate(5deg) scale(0.985);
}

.hero-skeleton-card--front {
  opacity: 0.78;
  display: flex;
  flex-direction: column;
  gap: 10px;
  padding: 18px;
}

.hero-skeleton-card__pill,
.hero-skeleton-card__title,
.hero-skeleton-card__line,
.hero-skeleton-card__footer {
  display: block;
  background: rgba(255, 195, 140, 0.22);
  border-radius: 999px;
}

.hero-skeleton-card__pill {
  width: 168px;
  height: 22px;
}

.hero-skeleton-card__title {
  width: 88%;
  height: 20px;
  border-radius: 10px;
  background: rgba(255, 195, 140, 0.26);
}

.hero-skeleton-card__line {
  width: 100%;
  height: 12px;
}

.hero-skeleton-card__line--short {
  width: 72%;
}

.hero-skeleton-card__footer {
  width: 62%;
  height: 12px;
  margin-top: auto;
}

.hero-skeleton-card__sweep {
  position: absolute;
  inset: -30% -40%;
  background: linear-gradient(120deg, rgba(255, 255, 255, 0) 35%, rgba(255, 235, 210, 0.68) 50%, rgba(255, 255, 255, 0) 65%);
  opacity: 0.6;
  transform: translate3d(-120%, 0, 0);
  animation: heroSkeletonSweep 2s ease-in-out infinite;
  will-change: transform;
}

@keyframes heroShowcaseIn {
  from {
    opacity: 0;
    transform: translate3d(0, 8px, 0) scale(0.985);
  }
  to {
    opacity: 1;
    transform: translate3d(0, 0, 0) scale(1);
  }
}

@keyframes heroSkeletonIn {
  from {
    opacity: 0;
    transform: translate3d(0, 8px, 0) scale(0.985);
  }
  to {
    opacity: 1;
    transform: translate3d(0, 0, 0) scale(1);
  }
}

@keyframes heroSkeletonSweep {
  0% {
    transform: translate3d(-120%, 0, 0);
  }
  60% {
    transform: translate3d(120%, 0, 0);
  }
  100% {
    transform: translate3d(120%, 0, 0);
  }
}

@media (prefers-reduced-motion: reduce) {
  .hero-showcase__content {
    animation: none;
  }

  .hero-showcase__skeleton {
    transition: none;
    animation: none;
  }

  .hero-skeleton-card__sweep {
    animation: none;
  }
}

.hero-showcase::before {
  content: "";
  position: absolute;
  inset: -12% -8% -6%;
  border-radius: 42px;
  /* 背景暖色氛围光：让卡片与左侧标题的主色产生呼应 */
  /* background:
    radial-gradient(60% 60% at 30% 22%, rgba(255, 204, 0, 0.28), rgba(255, 255, 255, 0) 70%),
    radial-gradient(55% 55% at 82% 18%, rgba(255, 107, 0, 0.26), rgba(255, 255, 255, 0) 72%),
    radial-gradient(80% 75% at 50% 80%, rgba(255, 135, 0, 0.18), rgba(255, 255, 255, 0) 78%); */
  opacity: 0.85;
  filter: blur(2px);
  pointer-events: none;
  z-index: 0;
}

.hero-showcase::after {
  content: "";
  position: absolute;
  left: 50%;
  bottom: 4px;
  transform: translateX(-50%);
  /* 底部“承托”投影，让卡牌组落在视觉基座上 */
  width: clamp(220px, 24vw, 320px);
  height: clamp(26px, 3.2vw, 40px);
  background: radial-gradient(ellipse at center, rgba(255, 120, 0, 0.32), rgba(255, 255, 255, 0) 70%);
  filter: blur(10px);
  opacity: 0.65;
  pointer-events: none;
  z-index: 0;
}

.practice-swiper {
  /* 缩小推荐卡片尺寸，保持与当前页面密度匹配 */
  width: var(--hero-card-w);
  height: var(--hero-card-h);
  position: relative;
  z-index: 1;
  /* 轻微下移 + 外部阴影，让卡组更自然地落在背景光晕中 */
  transform: translate3d(0, 6px, 0);
  filter: drop-shadow(0 26px 54px rgba(255, 120, 0, 0.12));
}

.practice-swiper .swiper-wrapper {
  transform-style: preserve-3d;
}

.practice-swiper .swiper-slide {
  display: flex;
  align-items: stretch;
  justify-content: center;
  will-change: transform;
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
}

.featured-card-link {
  display: block;
  width: 100%;
  height: 100%;
  border-radius: 26px;
  /*
    关键交互光标提示
    ------------------------------------------------------------
    Swiper 开启 grabCursor 后，容器区域会呈现 “grab” 光标（暗示可拖拽）。
    但本项目的每张卡片本身也是可点击链接（打开实践来源）。
    为了让用户在 hover 到卡片上时能明确感知“可点击”，
    这里给链接本身显式设置 cursor: pointer，覆盖从父级继承的光标。
  */
  cursor: pointer;
}

.featured-card-link:focus-visible .featured-card {
  outline: 3px solid rgba(255, 107, 0, 0.35);
  outline-offset: 4px;
}

.featured-card-link[aria-disabled="true"] {
  pointer-events: none;
  opacity: 0.85;
}


.practice-swiper .swiper-slide:not(.swiper-slide-active) .featured-card {
  --card-tint-strength: 8%;
  --card-blob-strength: 30%;
  backdrop-filter: none;
  border-color: rgba(255, 255, 255, 0.68);
  box-shadow: 0 30px 94px -84px rgba(50, 20, 0, 0.44), 0 0 0 1px rgba(255, 255, 255, 0.28) inset;
}

.practice-swiper .swiper-slide:not(.swiper-slide-active) .featured-card::before {
  opacity: 0.3;
}

.practice-swiper .swiper-slide:not(.swiper-slide-active) .featured-card::after {
  opacity: 0.16;
}

.practice-swiper .swiper-slide:not(.swiper-slide-active) .featured-card__desc {
  opacity: 0.62;
}

.practice-swiper .swiper-slide:not(.swiper-slide-active) .featured-card__meta {
  opacity: 0.48;
}

.featured-card {
  --card-accent: var(--accent, rgba(255, 107, 0, 0.9));
  --card-tint-strength: 12%;
  --card-blob-strength: 42%;
  --card-paper: rgba(255, 250, 245, 0.98);
  --card-ink: rgba(24, 18, 14, 0.94);
  position: relative;
  width: 100%;
  height: 100%;
  /* 放大标题与正文后，卡片内边距同步提升以保持舒展感 */
  padding: 18px 18px 16px;
  border-radius: 26px;
  background:
    radial-gradient(
      96% 78% at 14% 12%,
      color-mix(in srgb, var(--card-accent) var(--card-blob-strength), rgba(255, 255, 255, 0)) 0%,
      rgba(255, 255, 255, 0) 66%
    ),
    linear-gradient(180deg, rgba(255, 255, 255, 0.18) 0%, rgba(255, 255, 255, 0.78) 42%, rgba(255, 255, 255, 0.96) 100%),
    color-mix(in srgb, var(--card-accent) var(--card-tint-strength), var(--card-paper));
  border: 1px solid color-mix(in srgb, var(--card-accent) 14%, rgba(255, 255, 255, 0.86));
  display: flex;
  flex-direction: column;
  gap: 12px;
  overflow: hidden;
  color: var(--card-ink);
  backdrop-filter: blur(12px) saturate(150%);
  /* hover 交互只改透明度/位移，避免影响 Swiper 3D 性能 */
  transition: transform 420ms cubic-bezier(0.16, 1, 0.3, 1), box-shadow 420ms cubic-bezier(0.16, 1, 0.3, 1),
    border-color 420ms cubic-bezier(0.16, 1, 0.3, 1);
  will-change: transform;
}

.practice-swiper .swiper-slide-active .featured-card {
  --card-tint-strength: 24%;
  --card-blob-strength: 10%;
  border-color: color-mix(in srgb, var(--card-accent) 22%, rgba(255, 255, 255, 0.9));
}

.featured-card::before {
  content: "";
  position: absolute;
  inset: -1px;
  border-radius: inherit;
  pointer-events: none;
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.62) 0%, rgba(255, 255, 255, 0) 52%),
    radial-gradient(circle at 18% 14%, rgba(255, 255, 255, 0.7), rgba(255, 255, 255, 0) 62%);
  opacity: 0.46;
  transition: opacity 320ms ease, transform 420ms ease;
}

.featured-card::after {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  pointer-events: none;
  background: radial-gradient(130% 110% at 86% 10%, rgba(255, 255, 255, 0.34) 0%, rgba(255, 255, 255, 0) 52%),
    linear-gradient(180deg, rgba(255, 255, 255, 0.08) 0%, rgba(255, 255, 255, 0) 44%, rgba(255,  255, 255, 0.18) 100%);
  opacity: 0.32;
  transition: opacity 320ms ease, transform 420ms ease;
}

/*
  Hero 推荐卡片 hover 交互
  ------------------------------------------------------------
  目标：在不破坏 Swiper 卡片堆叠的前提下，做“整体提亮 + 轻微放大”。
  - 只做轻微 scale，不做位移，避免打乱卡片堆叠节奏
  - 只用 opacity/颜色/transform 过渡，避免重度滤镜动画
*/
@media (hover: hover) and (pointer: fine) {
  .featured-card-link:hover .featured-card,
  .featured-card-link:focus-visible .featured-card {
    /*
      Hero 推荐卡片 hover：轻微放大 + 整体提亮，强调“可点击感”。
      通过提高白底占比 + 边框亮度来提升可感知性，同时避免过度上浮。
    */
    --card-tint-strength: 22%;
    --card-blob-strength: 8%;
    --card-paper: rgba(255, 255, 255, 1);
    border-color: color-mix(in srgb, var(--card-accent) 14%, rgba(255, 255, 255, 0.96));
    /* 轻微放大：缩放值控制在 1.02~1.04，避免遮挡其它卡片 */
    transform: scale(1.03);
    /* 大面积内发光提亮，避免外部光晕 */
    box-shadow:
      0 0 0 1px rgba(255, 255, 255, 0.86) inset,
      0 0 0 220px rgba(255, 255, 255, 0.14) inset;
  }

  .featured-card-link:hover .featured-card::before,
  .featured-card-link:focus-visible .featured-card::before {
    opacity: 0.75;
  }

  .featured-card-link:hover .featured-card::after,
  .featured-card-link:focus-visible .featured-card::after {
    opacity: 0.62;
  }

  /* Hover 时标题轻微变色，强化主信息吸引力 */
  .featured-card-link:hover .featured-card__title,
  .featured-card-link:focus-visible .featured-card__title {
    color: color-mix(in srgb, var(--card-accent) 72%, rgba(24, 18, 14, 0.95));
    text-shadow: 0 0 0.6em rgba(255, 107, 0, 0.16);
  }
}

.featured-card > * {
  position: relative;
  z-index: 1;
}

.featured-card__top {
  display: flex;
  align-items: center;
  justify-content: flex-start;
  gap: 10px;
}

.featured-card__skill-name {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 4px 10px;
  border-radius: 999px;
  background: color-mix(in srgb, var(--card-accent) 10%, rgba(255, 255, 255, 0.78));
  border: 1px solid color-mix(in srgb, var(--card-accent) 22%, rgba(255, 255, 255, 0.8));
  font-size: 12px;
  font-weight: 900;
  letter-spacing: 0.2px;
  color: rgba(24, 18, 14, 0.88);
  white-space: nowrap;
  max-width: 100%;
  overflow: hidden;
  text-overflow: ellipsis;
  box-shadow: 0 12px 22px -18px color-mix(in srgb, var(--card-accent) 55%, rgba(0, 0, 0, 0.18));
}

.featured-card__skill-name::before {
  content: "";
  width: 9px;
  height: 9px;
  border-radius: 999px;
  background: color-mix(in srgb, var(--card-accent) 72%, white);
  box-shadow: 0 16px 26px -18px color-mix(in srgb, var(--card-accent) 62%, rgba(0, 0, 0, 0.18));
  flex: 0 0 auto;
}

.featured-card__title {
  font-family: var(--font-heading);
  /* 放大标题字号，强化卡片主视觉信息 */
  font-size: 25px;
  font-weight: 900;
  letter-spacing: -0.3px;
  line-height: 1.26;
  margin: 2px 0 0;
  /* hover 变色仅做 color/text-shadow 过渡，避免重排 */
  transition: color 220ms ease, text-shadow 220ms ease;
}

.featured-card__desc {
  margin: 0;
  color: rgba(24, 18, 14, 0.74);
  /* 正文字号提升，并允许换行展示 */
  font-size: 16px;
  font-weight: 560;
  line-height: 1.7;
  white-space: pre-line;
  display: -webkit-box;
  -webkit-line-clamp: 7;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.featured-card__meta {
  display: flex;
  align-items: center;
  justify-content: flex-start;
  gap: 8px;
  flex-wrap: wrap;
  margin-top: auto;
  padding-top: 8px;
  color: rgba(24, 18, 14, 0.68);
  font-size: 12px;
  font-weight: 800;
}

.featured-card__from {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  flex: 1 1 auto;
  min-width: 0;
  color: rgba(24, 18, 14, 0.7);
}

.featured-card__from-label,
.featured-card__from-author {
  white-space: nowrap;
  max-width: 160px;
  min-width: 0;
  overflow: hidden;
  text-overflow: ellipsis;
}

.featured-card__from-dot {
  color: rgba(24, 18, 14, 0.4);
  font-weight: 700;
}

/*
  NEW 角标（桌面默认样式）
  ------------------------------------------------------------
  设计口径：
  - 亮绿色底 + 小圆角
  - 仅使用 transform/opacity 动画，不引入高成本滤镜动画
  - 微弱呼吸感，帮助用户快速识别“最近上新”
*/
.new-badge {
  position: absolute;
  top: 12px;
  right: 12px;
  z-index: 6;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 42px;
  height: 24px;
  padding: 0 9px;
  border-radius: 999px;
  border: 1px solid rgba(13, 148, 66, 0.52);
  background: linear-gradient(135deg, rgba(74, 222, 128, 0.96), rgba(34, 197, 94, 0.98));
  color: #f4fff7;
  font-size: 11px;
  font-weight: 900;
  letter-spacing: 0.3px;
  line-height: 1;
  box-shadow: 0 14px 30px -20px rgba(22, 163, 74, 0.64), 0 0 0 1px rgba(255, 255, 255, 0.32) inset;
  pointer-events: none;
  /* GPU 合成层：保证 opacity 动画稳定，避免滚动场景掉帧。 */
  transform: translate3d(0, 0, 0);
  will-change: opacity, transform;
  animation: new-badge-pulse 1.8s ease-in-out infinite;
}

/*
  NEW 角标呼吸动效：
  - 只动画 opacity，避免 layout shift
  - 振幅控制在 1 -> 0.78，保持“有感知但不过度抢眼”
*/
@keyframes new-badge-pulse {
  0%,
  100% {
    opacity: 1;
  }
  50% {
    opacity: 0.78;
  }
}

/* Hero 推荐卡片：角标略微内收，避免与高亮边框冲突。 */
.featured-card__new-badge {
  top: 14px;
  right: 14px;
}

/* 尊重系统“减少动态效果”偏好，关闭 NEW 角标呼吸动画。 */
@media (prefers-reduced-motion: reduce) {
  .new-badge {
    animation: none;
    opacity: 1;
  }
}

.deck {
  width: min(100%, 720px);
  padding: 0;
  position: relative;
  overflow: visible;
}

.deck::after {
  display: none;
}

.deck > * {
  position: relative;
  z-index: 1;
}

.deck__header {
  display: flex;
  align-items: baseline;
  justify-content: space-between;
  gap: 14px;
  margin-bottom: 12px;
}

.deck__title {
  font-family: var(--font-heading);
  font-weight: 900;
  letter-spacing: -0.2px;
  font-size: 18px;
}

.deck__subtitle {
  color: rgba(124, 94, 77, 0.78);
  font-size: 12px;
  font-weight: 900;
}

.deck__body {
  display: grid;
  grid-template-columns: minmax(0, 1fr) 300px;
  gap: 22px;
  align-items: start;
}

.deck__nav {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  flex-shrink: 0;
}

.deck__stage {
  position: relative;
  padding: 0;
  border-radius: 0;
  background: transparent;
  border: 0;
  box-shadow: none;
  overflow: visible;
  isolation: isolate;
}

.deck__stage::before {
  content: "";
  position: absolute;
  inset: -18px -14px -26px;
  border-radius: 32px;
  pointer-events: none;
  background: radial-gradient(circle at 22% 20%, rgba(255, 204, 0, 0.18), transparent 58%),
    radial-gradient(circle at 70% 22%, rgba(255, 51, 102, 0.16), transparent 62%),
    radial-gradient(circle at 62% 70%, rgba(255, 107, 0, 0.12), transparent 60%);
  opacity: 0.9;
  filter: blur(0.2px);
}

.deck__fan {
  position: relative;
  height: 354px;
  perspective: 1400px;
  transform-style: preserve-3d;
  z-index: 2;
}

.deck__list {
  display: flex;
  flex-direction: column;
  gap: 8px;
  padding-top: 6px;
}

.deck-line {
  position: relative;
  display: grid;
  grid-template-columns: 28px 1fr;
  gap: 12px;
  padding: 10px 0 10px 12px;
  border-bottom: 1px solid rgba(255, 107, 0, 0.12);
  color: rgba(26, 21, 16, 0.86);
  transition: transform 160ms ease, color 160ms ease;
}

.deck-line::before {
  content: "";
  position: absolute;
  left: 0;
  top: 12px;
  bottom: 12px;
  width: 3px;
  border-radius: 999px;
  background: linear-gradient(180deg, var(--primary), var(--secondary));
  opacity: 0;
}

.deck-line:hover {
  transform: translateX(2px);
  color: rgba(26, 21, 16, 0.96);
}

.deck-line:hover::before {
  opacity: 0.55;
}

.deck-line.is-active {
  color: rgba(26, 21, 16, 0.98);
}

.deck-line.is-active::before {
  opacity: 1;
}

.deck-line:last-child {
  border-bottom: 0;
}

.deck-line__index {
  font-family: var(--font-heading);
  font-weight: 900;
  font-size: 12px;
  letter-spacing: 0.4px;
  color: rgba(124, 94, 77, 0.62);
}

.deck-line.is-active .deck-line__index {
  color: rgba(230, 82, 0, 0.95);
}

.deck-line__text {
  display: flex;
  flex-direction: column;
  gap: 3px;
  min-width: 0;
}

.deck-line__skill {
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  font-size: 11px;
  font-weight: 850;
  color: rgba(124, 94, 77, 0.74);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.deck-line__title {
  font-size: 13px;
  font-weight: 900;
  line-height: 1.32;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.deck-card {
  position: absolute;
  left: 50%;
  bottom: 6px;
  width: 252px;
  height: 322px;
  padding: 16px 16px 14px;
  border-radius: 24px;
  background: rgba(255, 255, 255, 0.82);
  border: 1px solid rgba(255, 255, 255, 0.92);
  box-shadow: 0 26px 86px -64px rgba(50, 20, 0, 0.42);
  transform: translateX(-50%) translateX(var(--x, 0px)) translateY(var(--y, 0px)) rotate(var(--rot, 0deg))
    rotateY(-10deg) translateZ(var(--z, 0px));
  transform-style: preserve-3d;
  transition: transform 260ms ease, box-shadow 260ms ease, filter 260ms ease, opacity 260ms ease;
  display: flex;
  flex-direction: column;
  gap: 10px;
  cursor: pointer;
}

.deck-card::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  pointer-events: none;
  background: radial-gradient(circle at 20% 16%, rgba(255, 255, 255, 0.78), transparent 52%),
    radial-gradient(circle at 86% 18%, rgba(255, 255, 255, 0.62), transparent 50%),
    linear-gradient(135deg, rgba(255, 255, 255, 0.42), rgba(255, 255, 255, 0) 60%);
  opacity: 0.72;
}

.deck-card::after {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  pointer-events: none;
  background: linear-gradient(135deg, rgba(255, 107, 0, 0.18), transparent 56%),
    linear-gradient(
      0deg,
      rgba(255, 255, 255, 0) 0%,
      rgba(255, 255, 255, 0.18) 46%,
      rgba(255, 255, 255, 0) 100%
    );
  background: linear-gradient(
      135deg,
      color-mix(in srgb, var(--accent, rgba(255, 107, 0, 0.85)) 26%, transparent),
      transparent 56%
    ),
    linear-gradient(
      0deg,
      rgba(255, 255, 255, 0) 0%,
      rgba(255, 255, 255, 0.18) 46%,
      rgba(255, 255, 255, 0) 100%
    );
  opacity: 0.78;
  mix-blend-mode: normal;
}

.deck-card > * {
  position: relative;
  z-index: 1;
}

.deck-card:hover {
  transform: translateX(-50%) translateX(var(--x, 0px)) translateY(calc(var(--y, 0px) - 14px)) rotate(var(--rot, 0deg))
    rotateY(-8deg) translateZ(calc(var(--z, 0px) + 90px));
  box-shadow: 0 40px 120px -72px rgba(50, 20, 0, 0.5);
}

.deck-card.is-active {
  box-shadow: 0 44px 140px -76px rgba(50, 20, 0, 0.58);
}

.deck-card--back {
  opacity: 0.86;
  filter: saturate(0.96);
}

.deck-card--mid {
  opacity: 0.92;
}

.deck-card--front {
  opacity: 1;
}

.deck-card__corner {
  position: absolute;
  width: 44px;
  display: grid;
  justify-items: center;
  gap: 2px;
  padding: 8px 6px;
  border-radius: 16px;
  border: 1px solid rgba(255, 107, 0, 0.14);
  background: rgba(255, 255, 255, 0.58);
  box-shadow: 0 18px 36px -28px rgba(50, 20, 0, 0.26);
}

.deck-card__corner--tl {
  top: 12px;
  left: 12px;
}

.deck-card__corner--br {
  bottom: 12px;
  right: 12px;
  transform: rotate(180deg);
}

.corner__big {
  font-family: var(--font-heading);
  font-weight: 900;
  font-size: 16px;
  letter-spacing: -0.3px;
  color: rgba(26, 21, 16, 0.92);
  line-height: 1;
}

.corner__small {
  font-weight: 900;
  font-size: 11px;
  letter-spacing: 1px;
  color: rgba(124, 94, 77, 0.92);
  line-height: 1;
}

.deck-card__top {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  padding-right: 0;
}

.deck-card__channel {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  font-size: 11px;
  font-weight: 900;
  letter-spacing: 0.2px;
  color: rgba(26, 21, 16, 0.78);
  white-space: nowrap;
}

.deck-card__channel::before {
  content: "";
  width: 8px;
  height: 8px;
  border-radius: 999px;
  background: color-mix(in srgb, var(--accent, rgba(255, 107, 0, 0.9)) 72%, white);
  box-shadow: 0 14px 22px -18px rgba(255, 107, 0, 0.85);
  flex: 0 0 auto;
}

.deck-card__skill {
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  font-size: 11px;
  font-weight: 850;
  letter-spacing: 0.2px;
  color: rgba(124, 94, 77, 0.86);
  white-space: nowrap;
  max-width: 150px;
  overflow: hidden;
  text-overflow: ellipsis;
}

.deck-card__title {
  font-family: var(--font-heading);
  font-size: 17px;
  font-weight: 900;
  letter-spacing: -0.25px;
  line-height: 1.15;
  margin: 10px 0 0;
}

.deck-card__desc {
  margin: 0;
  color: rgba(124, 94, 77, 0.9);
  font-size: 12.5px;
  font-weight: 750;
  line-height: 1.65;
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.deck-card__meta {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  margin-top: auto;
  padding-top: 0;
  border-top: 0;
  color: rgba(124, 94, 77, 0.86);
  font-size: 12px;
  font-weight: 900;
}

.deck-card__actions {
  display: flex;
  align-items: center;
  gap: 10px;
  flex-wrap: wrap;
  margin-top: 10px;
}

.deck__grip {
  position: absolute;
  left: 50%;
  bottom: -22px;
  transform: translateX(-50%);
  width: 340px;
  height: 110px;
  border-radius: 999px;
  background: radial-gradient(circle at 34% 30%, rgba(255, 255, 255, 0.65), rgba(255, 255, 255, 0) 58%),
    linear-gradient(135deg, rgba(255, 204, 0, 0.26), rgba(255, 168, 0, 0.16), rgba(255, 107, 0, 0.22));
  filter: blur(0.2px);
  opacity: 0.9;
  z-index: 0;
  box-shadow: 0 40px 120px -80px rgba(50, 20, 0, 0.4);
}

.deck__spark {
  position: absolute;
  right: -28px;
  top: 42px;
  width: 160px;
  height: 160px;
  border-radius: 50%;
  background: radial-gradient(circle, rgba(255, 255, 255, 0.8), rgba(255, 255, 255, 0) 66%);
  filter: blur(10px);
  opacity: 0.65;
  z-index: 0;
}

.deck__rail {
  margin-top: 12px;
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
}

.deck-chip {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  padding: 9px 12px;
  border-radius: 999px;
  background: rgba(255, 255, 255, 0.66);
  border: 1px solid rgba(255, 107, 0, 0.12);
  color: rgba(26, 21, 16, 0.86);
  font-size: 12px;
  font-weight: 900;
  letter-spacing: 0.2px;
  white-space: nowrap;
  transition: transform 160ms ease, background 160ms ease, border-color 160ms ease;
}

.deck-chip:hover {
  transform: translateY(-1px);
  background: rgba(255, 255, 255, 0.9);
  border-color: rgba(255, 107, 0, 0.22);
}

.deck-chip.is-active {
  /* 选中态改为纯色，风格与搜索按钮一致 */
  background: var(--color-primary);
  color: #fff;
  border-color: rgba(255, 255, 255, 0.6);
  box-shadow: 0 4px 12px rgba(255, 107, 0, 0.3);
}

.deck-chip__dot {
  width: 10px;
  height: 10px;
  border-radius: 999px;
  background: rgba(124, 94, 77, 0.28);
  flex: 0 0 auto;
}

.deck-chip.is-active .deck-chip__dot {
  background: rgba(255, 255, 255, 0.9);
}

.card {
  border-radius: var(--radius-lg);
  border: 1px solid rgba(255, 255, 255, 0.82);
  background: var(--surface);
  backdrop-filter: blur(14px) saturate(170%);
  box-shadow: var(--shadow-card);
}

.card--glass {
  background: rgba(255, 255, 255, 0.74);
}

.carousel {
  padding: 18px;
  overflow: hidden;
  position: relative;
}

.carousel--primary {
  width: min(100%, 620px);
  padding: 22px;
  box-shadow: var(--shadow-float);
  border: 1px solid rgba(255, 255, 255, 0.9);
}

.carousel--primary .carousel__title {
  font-size: 18px;
  font-weight: 900;
}

.carousel::after {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  background: radial-gradient(circle at 12% 8%, rgba(255, 204, 0, 0.16), transparent 52%),
    radial-gradient(circle at 92% 18%, rgba(255, 51, 102, 0.12), transparent 56%),
    linear-gradient(135deg, rgba(255, 107, 0, 0.06), rgba(255, 51, 102, 0.06));
  opacity: 0.95;
}

.carousel > * {
  position: relative;
  z-index: 1;
}

.carousel__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 14px;
  margin-bottom: 12px;
}

.carousel__title {
  font-family: var(--font-heading);
  font-weight: 800;
  letter-spacing: -0.2px;
}

.carousel__nav {
  display: inline-flex;
  align-items: center;
  gap: 10px;
}

.carousel__layout {
  display: grid;
  grid-template-columns: 248px 1fr;
  gap: 14px;
  align-items: stretch;
  margin-top: 8px;
}

.practice-list {
  padding: 10px;
  border-radius: 18px;
  background: rgba(255, 255, 255, 0.56);
  border: 1px solid rgba(255, 107, 0, 0.12);
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.practice-item {
  width: 100%;
  text-align: left;
  padding: 10px 12px;
  border-radius: 16px;
  background: rgba(255, 255, 255, 0.68);
  border: 1px solid rgba(255, 107, 0, 0.1);
  display: grid;
  grid-template-columns: 1fr auto;
  grid-template-rows: auto auto;
  gap: 6px 10px;
  transition: transform 180ms ease, background 180ms ease, border-color 180ms ease, box-shadow 180ms ease;
  cursor: pointer;
}

.practice-item:hover {
  transform: translateY(-1px);
  background: rgba(255, 255, 255, 0.92);
  border-color: rgba(255, 107, 0, 0.18);
  box-shadow: 0 14px 24px -18px rgba(50, 20, 0, 0.22);
}

.practice-item.is-active {
  background: rgba(255, 255, 255, 0.92);
  border-color: rgba(255, 107, 0, 0.3);
  box-shadow: 0 18px 30px -20px rgba(255, 107, 0, 0.25);
}

.practice-item__badge {
  grid-column: 1 / -1;
  justify-self: start;
  padding: 5px 10px;
  font-size: 12px;
}

.practice-item__title {
  grid-column: 1 / 2;
  color: var(--text);
  font-size: 13px;
  font-weight: 900;
  line-height: 1.3;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.practice-item__meta {
  grid-column: 2 / 3;
  align-self: end;
  justify-self: end;
  font-size: 12px;
  font-weight: 900;
  color: rgba(124, 94, 77, 0.78);
  white-space: nowrap;
}

.practice-panel {
  padding: 16px 16px;
  border-radius: 18px;
  background: rgba(255, 255, 255, 0.72);
  border: 1px solid rgba(255, 255, 255, 0.88);
  box-shadow: 0 26px 70px -44px rgba(50, 20, 0, 0.22);
  display: flex;
  flex-direction: column;
  gap: 12px;
  min-width: 0;
}

.practice-panel__top {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  flex-wrap: wrap;
}

.practice-panel__actions {
  margin-top: auto;
  display: flex;
  align-items: center;
  gap: 10px;
  flex-wrap: wrap;
}

.carousel__item-title {
  font-family: var(--font-heading);
  font-size: 19px;
  letter-spacing: -0.2px;
  line-height: 1.25;
}

.carousel__item-summary {
  font-size: 13px;
  line-height: 1.65;
  color: var(--muted);
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.meta-row {
  display: flex;
  flex-wrap: wrap;
  gap: 12px 16px;
  color: var(--muted);
  font-size: 13px;
  font-weight: 700;
}

.meta {
  display: inline-flex;
  align-items: center;
  gap: 8px;
}

.carousel__footer {
  margin-top: 14px;
  padding-top: 12px;
  border-top: 1px solid rgba(255, 107, 0, 0.12);
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  flex-wrap: wrap;
}

.carousel__hint {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  color: rgba(124, 94, 77, 0.82);
  font-size: 12px;
  font-weight: 900;
}

.dots {
  display: inline-flex;
  align-items: center;
  gap: 7px;
}

.dot {
  width: 8px;
  height: 8px;
  border-radius: 999px;
  background: rgba(124, 94, 77, 0.25);
}

.dot.is-active {
  width: 18px;
  background: linear-gradient(135deg, var(--primary), var(--secondary));
}

/* ---------- Toolbar ---------- */
.toolbar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 16px;
  flex-wrap: wrap;
  margin: 14px 0 18px;
}

/*
  Toolbar 左右布局容器
  ------------------------------------------------------------
  设计目标：
  - 左侧：分类标签（segmented）+ 关联技能 Chip（可清除）
  - 右侧：排序切换（sort-switch）
  说明：
  - 保持现有筛选条视觉风格不变，只新增一个“可见可清除”的 Chip，避免 ids 隐式筛选让用户迷惑
*/
.toolbar__left {
  display: flex;
  align-items: center;
  gap: 10px;
  flex-wrap: wrap;
  min-width: 0;
}

.toolbar__right {
  display: flex;
  align-items: center;
}

/*
  关联技能筛选 Chip（ids=1,2,3...）
  ------------------------------------------------------------
  场景：
  - 用户从实践卡片点击“筛选相关 Skill”进入 skills 模式时，会携带 ids 参数
  - 该筛选会“锁定”在一个子集内，如果不提示用户，分类筛选会表现得像“失效”
  交互（方案 2A）：
  - Chip 显示当前锁定数量，并提供一键清除
  - 用户点击任意分类标签时，会自动清除 ids 并执行分类筛选（逻辑在 HomePage.tsx）
*/
.filter-chip {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 8px 12px;
  border-radius: 999px;
  font-size: 12px;
  font-weight: 900;
  color: var(--primary-strong);
  background: rgba(255, 255, 255, 0.72);
  border: 1px solid rgba(255, 107, 0, 0.18);
  box-shadow: 0 18px 44px -40px rgba(50, 20, 0, 0.22);
  cursor: pointer;
  white-space: nowrap;
  transition: background 180ms ease, border-color 180ms ease, box-shadow 180ms ease, color 180ms ease;
}

.filter-chip .icon {
  width: 16px;
  height: 16px;
}

.filter-chip__text {
  line-height: 1;
}

.filter-chip__close {
  opacity: 0.72;
}

.filter-chip:hover {
  background: rgba(255, 255, 255, 0.86);
  border-color: rgba(255, 107, 0, 0.28);
  box-shadow: 0 26px 64px -52px rgba(255, 107, 0, 0.55), 0 18px 44px -40px rgba(50, 20, 0, 0.22);
}

.filter-chip:disabled {
  cursor: not-allowed;
  opacity: 0.6;
}

.segmented {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 0;
  background: transparent;
  border: none;
  box-shadow: none;
  scrollbar-width: none;
}

.segmented::-webkit-scrollbar {
  height: 0;
}

.segmented__item {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 10px 18px;
  border-radius: 14px;
  font-size: 13px;
  font-weight: 900;
  color: var(--text);
  /* 性能优化：移除小按钮的 backdrop-filter，改为更实色背景减少离屏渲染 */
  background: rgba(255, 255, 255, 0.78);
  border: 1px solid rgba(255, 107, 0, 0.14);
  box-shadow: 0 18px 44px -38px rgba(50, 20, 0, 0.22);
  transition: background 180ms ease, transform 180ms ease, box-shadow 180ms ease, border-color 180ms ease, color 180ms ease;
  white-space: nowrap;
}

.segmented__item:hover {
  /* Hover 仅提升视觉层级，不做位移，避免分类标签在悬停时产生跳动感 */
  background: rgba(255, 255, 255, 0.76);
  transform: none;
  box-shadow: 0 26px 64px -52px rgba(255, 107, 0, 0.55), 0 18px 44px -40px rgba(50, 20, 0, 0.22);
  border-color: rgba(255, 107, 0, 0.22);
}

.segmented__item.is-active {
  /* 首页标签选中态改为空心胶囊：白底 + 橙色描边 + 橙色文字，更轻盈不压内容 */
  background: rgba(255, 255, 255, 0.7);
  color: var(--primary-strong);
  border-color: rgba(255, 107, 0, 0.5);
  box-shadow: 0 10px 24px -18px rgba(255, 107, 0, 0.35);
}

.select {
  position: relative;
  display: inline-flex;
  align-items: center;
  gap: 10px;
  padding: 10px 14px;
  border-radius: 999px;
  background: rgba(255, 255, 255, 0.72);
  border: 1px solid rgba(255, 107, 0, 0.14);
  box-shadow: 0 18px 40px -34px rgba(50, 20, 0, 0.18);
}

.select__label {
  font-size: 13px;
  font-weight: 900;
  color: var(--muted);
}

.select select {
  appearance: none;
  border: none;
  outline: none;
  background: transparent;
  font-weight: 900;
  font-size: 13px;
  padding-right: 26px;
  cursor: pointer;
  color: var(--text);
}

.select .icon {
  position: absolute;
  right: 12px;
  pointer-events: none;
  width: 16px;
  height: 16px;
  color: var(--muted);
}

.sort-switch {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  padding: 2px 0;
  border-radius: 999px;
  background: transparent;
  border: none;
  box-shadow: none;
}

.sort-switch__label {
  font-size: 13px;
  font-weight: 900;
  color: var(--muted-2);
}

.sort-switch__seg {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 2px;
  border-radius: 999px;
  background: transparent;
  border: none;
}

.sort-switch__btn {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 10px 18px;
  border-radius: 14px;
  color: var(--text);
  font-size: 13px;
  font-weight: 900;
  /* 性能优化：去掉 backdrop-filter，避免多按钮叠加造成 GPU 负担 */
  background: rgba(255, 255, 255, 0.78);
  border: 1px solid rgba(255, 107, 0, 0.14);
  box-shadow: 0 18px 44px -38px rgba(50, 20, 0, 0.22);
  transition: transform 180ms ease, background 180ms ease, color 180ms ease, box-shadow 180ms ease, border-color 180ms ease;
  white-space: nowrap;
}

.sort-switch__btn .icon {
  width: 16px;
  height: 16px;
}

.sort-switch__btn:hover {
  /* Hover 只做高亮与阴影变化，不上浮，保持“最热/最新”切换的稳定性 */
  transform: none;
  background: rgba(255, 255, 255, 0.76);
  box-shadow: 0 26px 64px -52px rgba(255, 107, 0, 0.55), 0 18px 44px -40px rgba(50, 20, 0, 0.22);
  border-color: rgba(255, 107, 0, 0.22);
}

.sort-switch__btn.is-active {
  /* 选中态改为橙色纯色底：减轻渐变视觉负担，保持“排序”语义更克制 */
  background: var(--primary);
  color: #fff;
  border-color: rgba(255, 107, 0, 0.4);
  box-shadow: 0 16px 30px -18px rgba(255, 107, 0, 0.55);
}

/*
  首页模式切换（右侧吸附 Mode Dock）
  ------------------------------------------------------------
  PRD 要求：
  - 纵向二选一（像工具栏，而非表单 switch）
  - 默认仅展示图标；hover/聚焦时显示 tooltip 文案
  - 动画只用 transform/opacity（更性能友好，可触发 GPU 合成）
*/
.mode-dock {
  --thumb-y: 0px; /* 0：实践模式；50px：刷 Skill（44px 按钮 + 6px 间距） */
  /* 默认“胶囊”圆角；展开态会改为更克制的圆角（避免外观过于“玩具感”） */
  --dock-item-radius: 999px;
  position: fixed;
  /*
    初始位置稍微下移一些：
    - 视觉上更贴近内容区（比严格垂直居中更自然）
    - 后续用户可拖拽自定义位置（JS 会覆盖 top/transform）
  */
  top: 58%;
  right: 14px;
  transform: translate3d(0, -50%, 0);
  z-index: 120;
  cursor: grab;
  /* 允许 pointer 事件顺畅拖拽（移动端避免触发页面滚动手势） */
  touch-action: none;
  /*
    Dock 的“展开”采用宽度过渡：
    - Dock 为 fixed 且体积很小，宽度变化对整体布局影响极低
    - 文案出现/位移仍使用 transform/opacity（GPU 合成友好）
  */
  width: 56px; /* 收起态：仅图标（更收敛，减少对 Hero 的干扰） */
  display: flex;
  flex-direction: column;
  gap: 6px;
  padding: 6px;
  border-radius: 999px;
  /*
    外层容器（Dock 轨道）视觉目标：
    - 比 header 更“弱”，避免像一个独立卡片抢视觉
    - 仍保留玻璃拟态质感（与站点整体统一）
    - 强表达交给「thumb 选中态」，容器只做承托
  */
  /*
    用户确认：Mode Dock 改为「最简单的纯色」风格（参考排序按钮“最热”）。
    ------------------------------------------------------------
    设计策略：
    - 收起态：保留轻量轨道做承托（白色纯色 + 轻描边 + 轻阴影）
    - 活跃态：由 thumb（滑块）用纯色主色橙来表达
    - Hover：用“扫光（shine）”增加精致感，不引入复杂渐变/液态玻璃折射
  */
  background: rgba(255, 255, 255, 0.86);
  border: 1px solid rgba(255, 107, 0, 0.16);
  backdrop-filter: none;
  box-shadow: 0 22px 52px -42px rgba(50, 20, 0, 0.28), 0 0 0 1px rgba(255, 255, 255, 0.7) inset;
  isolation: isolate;
  /* 降低 reflow 影响范围：Dock 内部自包含布局与绘制 */
  contain: layout paint;
  transition: width 260ms cubic-bezier(0.16, 1, 0.3, 1);
}

/* 通过 data-mode 控制滑块位置（由 React 状态驱动） */
.mode-dock[data-mode="skills"] {
  --thumb-y: 50px;
}

/* 拖拽中：用 grabbing 提示“正在拖动” */
.mode-dock[data-dragging="true"] {
  cursor: grabbing;
}

/* 展开态：展示文字（由 React 的 data-expanded 驱动） */
.mode-dock[data-expanded="true"] {
  width: 168px;
  /* 展开态：把 999px 的“胶囊”圆角收敛为圆角矩形，更像“工具 Dock/控件”，更高级 */
  --dock-item-radius: 18px;
  /*
    展开态的视觉策略：
    - 外层轨道尽量“隐身”（不再显示大块圆角容器），避免像一个独立卡片抢戏
    - 视觉承托交给每一行的按钮（以及选中的 thumb）
    这样整体更「液态玻璃」，也更贴合站点轻盈的玻璃拟态风格。
  */
  background: transparent;
  border-color: transparent;
  box-shadow: none;
  backdrop-filter: none;
  border-radius: 0;
}

.mode-dock__thumb {
  position: absolute;
  left: 6px;
  top: 6px;
  /* 跟随 Dock 宽度变化：收起态=44px，展开态=容器可用宽度 */
  width: calc(100% - 12px);
  height: 44px;
  border-radius: var(--dock-item-radius);
  pointer-events: none;
  z-index: 1;
  overflow: hidden;
  /*
    活跃态（thumb）=「纯色主色」
    ------------------------------------------------------------
    参考“最热”按钮的视觉：纯色 + 轻描边 + 轻阴影。
  */
  background: var(--primary);
  border: 1px solid rgba(255, 107, 0, 0.4);
  backdrop-filter: none;
  box-shadow: 0 16px 30px -18px rgba(255, 107, 0, 0.55);
  transform: translate3d(0, var(--thumb-y), 0);
  transition: transform 520ms cubic-bezier(0.16, 1, 0.3, 1);
  will-change: transform;
}

.mode-dock__thumb::before {
  /* 纯色方案下不需要“体积光”叠加；扫光由按钮伪元素统一负责。 */
  content: none;
}

.mode-dock__thumb::after {
  /* 纯色方案下不需要“体积光”叠加；扫光由按钮伪元素统一负责。 */
  content: none;
}

.mode-dock__item {
  position: relative;
  width: 100%;
  height: 44px;
  display: flex;
  align-items: center;
  justify-content: center; /* 收起态：图标居中 */
  gap: 0; /* 收起态：避免 label 影响图标居中 */
  padding: 0; /* 收起态：保持视觉紧凑 */
  border-radius: var(--dock-item-radius);
  border: 1px solid transparent;
  background: transparent;
  color: rgba(124, 94, 77, 0.92);
  cursor: pointer;
  z-index: 2;
  transition: transform 180ms ease, background 180ms ease, border-color 180ms ease, box-shadow 180ms ease, color 180ms ease;
  will-change: transform;
}

.mode-dock[data-expanded="true"] .mode-dock__item {
  /* 展开态：图标+文案水平排列 */
  justify-content: flex-start;
  gap: 10px;
  padding: 0 12px 0 10px;
  /*
    展开态每一行按钮独立承托（轻玻璃）：
    - 外层容器被弱化后，需要给未选中项一个很轻的底，保证可读性
    - 动画保持 transform/opacity，不使用 scale 避免“抖动”
  */
  /* 展开态的未选中项：纯色白底 + 轻描边（与“最热/最新”按钮同一设计语言） */
  background: rgba(255, 255, 255, 0.76);
  border-color: rgba(255, 107, 0, 0.14);
  backdrop-filter: none;
  box-shadow: 0 18px 44px -38px rgba(50, 20, 0, 0.22);
}

.mode-dock[data-expanded="true"] .mode-dock__item.is-active {
  /*
    选中态由 thumb 负责“强表达”：
    - 这里把按钮自己的背景/描边收起来，避免与 thumb 的玻璃边框叠加显脏
  */
  background: transparent;
  border-color: transparent;
  box-shadow: none;
}

.mode-dock__icon {
  width: 20px;
  height: 20px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  flex: 0 0 auto;
}

.mode-dock__icon svg {
  width: 20px;
  height: 20px;
}

/* 展开态文案：在 Dock 内部显示，不再使用“外飘 tooltip 气泡” */
.mode-dock__label {
  display: inline-block;
  overflow: hidden;
  white-space: nowrap;
  max-width: 0; /* 收起态：不占宽度，避免影响图标居中 */
  opacity: 0;
  transform: translate3d(-6px, 0, 0);
  font-size: 12px;
  font-weight: 900;
  letter-spacing: 0.1px;
  line-height: 1;
  will-change: transform, opacity;
  transition: max-width 320ms cubic-bezier(0.16, 1, 0.3, 1), opacity 160ms ease, transform 320ms cubic-bezier(0.16, 1, 0.3, 1);
}

.mode-dock[data-expanded="true"] .mode-dock__label {
  max-width: 120px;
  opacity: 1;
  transform: translate3d(0, 0, 0);
}

.mode-dock__item.is-active {
  color: #ffffff;
  text-shadow: none; /* 纯色方案更干净，不需要文字阴影 */
}

@media (hover: hover) and (pointer: fine) {
  .mode-dock__item:not(.is-active):hover {
    /* Hover：轻微提亮未选中项，不上浮太多，避免“漂” */
    transform: none;
    background: rgba(255, 255, 255, 0.88);
    border-color: rgba(255, 107, 0, 0.22);
    box-shadow: 0 26px 64px -52px rgba(255, 107, 0, 0.55), 0 18px 44px -40px rgba(50, 20, 0, 0.22);
  }

  .mode-dock__item.is-active:hover {
    transform: none;
  }
}

.mode-dock__item:focus-visible {
  outline: none;
  box-shadow: 0 0 0 4px rgba(255, 107, 0, 0.18);
  border-color: rgba(255, 107, 0, 0.22);
}

@media (prefers-reduced-motion: reduce) {
  .mode-dock__thumb {
    transition: none;
  }
}

/* ---------- Skill cards ---------- */
.skill-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
  gap: 22px;
}

.skill-card {
  position: relative;
  border-radius: var(--radius-lg);
  border: 1px solid rgba(255, 255, 255, 0.82);
  /* 性能优化：卡片数量多时移除 backdrop-filter，避免大量离屏模糊合成 */
  background: rgba(255, 255, 255, 0.86);
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.03);
  padding: 22px;
  display: flex;
  flex-direction: column;
  gap: 14px;
  overflow: hidden;
  cursor: pointer;
  transition: transform 520ms cubic-bezier(0.16, 1, 0.3, 1), box-shadow 520ms cubic-bezier(0.16, 1, 0.3, 1),
    background 520ms cubic-bezier(0.16, 1, 0.3, 1), border-color 520ms cubic-bezier(0.16, 1, 0.3, 1);
}

.skill-card::before {
  content: "";
  position: absolute;
  inset: -4%;
  border-radius: inherit;
  pointer-events: none;
  opacity: 0;
  /*
    hover 金色流光底层（仅 hover 时出现）
    ------------------------------------------------------------
    用户反馈：hover 时“色团”需要更金、更有流动感。
    这里放一层“金色柔光云团”，只在 hover 时开启动画：
    - 用 transform 做位移/缩放/轻微旋转，避免重度滤镜动画带来卡顿
    - 颜色向金黄偏移，强调“温暖金属质感”
  */
  background:
    radial-gradient(120% 85% at 12% 6%, rgba(255, 244, 190, 0.62) 0%, rgba(255, 244, 190, 0) 62%),
    radial-gradient(140% 100% at 92% 0%, rgba(255, 224, 150, 0.38) 0%, rgba(255, 224, 150, 0) 70%),
    radial-gradient(140% 120% at 46% 102%, rgba(255, 232, 170, 0.34) 0%, rgba(255, 232, 170, 0) 72%);
  background-size: 160% 160%, 180% 180%, 160% 160%;
  background-position: 0% 0%, 100% 0%, 50% 100%;
  filter: saturate(1.12);
  /* 性能优化：仅做 opacity 过渡，不提前创建多余合成层 */
  transition: opacity 520ms cubic-bezier(0.16, 1, 0.3, 1);
  will-change: auto;
}

.skill-card::after {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  opacity: 0;
  transition: opacity 520ms cubic-bezier(0.16, 1, 0.3, 1);
  /*
    Hover 高光层（skill/practice 通用）
    ------------------------------------------------------------
    用户反馈：卡片 hover 应该“整体提亮”（背景/边框/质感），而不是出现变暗/蒙灰。
    这里用一层「白色高光 + 暖色反光」的叠加层来做“被光照到”的感觉：
    - 白色高光：提升亮度（不会让卡片变脏）
    - 暖色反光：保持站点 orange/yellow 的温暖调性
    - 仅控制 opacity 过渡，避免位移/滤镜动画导致性能问题
  */
  background:
    radial-gradient(120% 85% at 18% 8%, rgba(255, 255, 255, 0.78) 0%, rgba(255, 255, 255, 0) 62%),
    radial-gradient(90% 70% at 88% 0%, rgba(255, 230, 140, 0.38) 0%, rgba(255, 230, 140, 0) 66%),
    linear-gradient(135deg, rgba(255, 210, 110, 0.12), rgba(255, 240, 180, 0.1));
}

.skill-card__overlay {
  position: absolute;
  inset: 0;
  border-radius: inherit;
  z-index: 2;
}

.skill-card > * {
  position: relative;
  z-index: 1;
}

.skill-card__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  color: var(--muted);
  font-size: 13px;
  font-weight: 800;
}

.skill-card__header-right {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  flex-wrap: nowrap;
  justify-content: flex-end;
}

/* Skill 卡片内的统计信息改为“无背景文本”，避免胶囊容器包裹 */
.skill-card .stat {
  background: transparent;
  border: none;
  padding: 0;
  box-shadow: none;
}

/* Skill 卡片内的“热度”视觉强化：强调火焰感与数值存在感，但不引入胶囊背景 */
.skill-card .stat--heat {
  position: relative;
  color: var(--primary-strong);
  letter-spacing: 0.3px;
  text-shadow: 0 1px 0 rgba(255, 255, 255, 0.6), 0 0 10px rgba(255, 107, 0, 0.25);
}

/* 火焰背后的轻量光晕，仅覆盖图标附近，避免形成完整背景容器 */
.skill-card .stat--heat::before {
  content: "";
  position: absolute;
  left: -6px;
  top: 50%;
  width: 22px;
  height: 22px;
  transform: translateY(-50%);
  border-radius: 999px;
  background: radial-gradient(circle, rgba(255, 170, 70, 0.5) 0%, rgba(255, 170, 70, 0) 68%);
  opacity: 0.75;
  z-index: -1;
}

/* 火焰图标加粗与发光：仅作用于小尺寸图标，性能开销可控 */
.skill-card .stat--heat .icon {
  width: 18px;
  height: 18px;
  color: #ff6b00;
  filter: drop-shadow(0 0 6px rgba(255, 120, 30, 0.35));
  stroke-width: 2.2;
}

.skill-card__title {
  font-family: var(--font-heading);
  font-weight: 900;
  font-size: 22px;
  letter-spacing: -0.25px;
  line-height: 1.25;
}

.skill-card__desc {
  font-size: 14px;
  line-height: 1.7;
  color: var(--muted);
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.skill-card__meta {
  margin-top: auto;
  padding-top: 14px;
  border-top: 1px solid rgba(255, 107, 0, 0.12);
  display: grid;
  grid-template-columns: 1fr auto;
  gap: 10px 12px;
  align-items: center;
  color: var(--muted);
  font-size: 13px;
  font-weight: 800;
}

.skill-card__meta .meta {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  min-width: 0;
}

.skill-card__meta .meta:nth-child(2),
.skill-card__meta .meta:nth-child(3) {
  justify-self: end;
  white-space: nowrap;
}

.skill-card__meta .meta:first-child {
  justify-self: start;
  padding: 0;
  border-radius: 0;
  background: transparent;
  border: none;
  color: var(--text);
  font-weight: 900;
  max-width: 100%;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.skill-card__meta .meta:first-child .avatar {
  width: 22px;
  height: 22px;
  border-radius: 50%;
}

/* ---------- Home Practices (实践模式) ---------- */
.practice-feed-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
  gap: 18px;
}

/*
  首页实践卡片（practice-card--feed）
  ------------------------------------------------------------
  注意：详情页也有 .practice-card，但结构与样式不同；
  这里用修饰类 practice-card--feed 做隔离，避免互相影响。
*/
.practice-card.practice-card--feed {
  /*
    背景色抽成变量，便于：
    - hover 态同步变白（与站点卡片 hover 统一）
    - 摘要“第 5 行渐隐”的兜底渐变使用同底色，避免出现“色块感”
  */
  --card-surface: rgba(255, 255, 255, 0.7);
  background: var(--card-surface);
  width: 100%;
  height: 300px; /* 定高：对齐 mockup 与 PRD */
  /* PRD：实践卡片本体不可点击（仅 hover 浮层按钮可点击），光标用默认态避免误导 */
  cursor: default;
}

.practice-card--feed .practice-card__content {
  position: relative;
  z-index: 2;
  pointer-events: none;
  display: flex;
  flex-direction: column;
  gap: 10px;
  height: 100%;
}

/* 实践列表卡片：角标贴右上角，层级高于内容与浮层渐变。 */
.practice-card__new-badge {
  top: 14px;
  right: 14px;
}

.practice-card--feed .practice-card__top {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  flex-wrap: wrap;
  color: var(--muted);
  font-size: 13px;
  font-weight: 800;
}

.practice-card--feed .practice-card__source {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  font-size: 12px;
  font-weight: 900;
  letter-spacing: 0.2px;
  padding: 0;
  border: none;
  background: transparent;
  color: rgba(124, 94, 77, 0.92);
  white-space: nowrap;
  min-width: 0;
  max-width: 68%;
  overflow: hidden;
  text-overflow: ellipsis;
}

.practice-card--feed .practice-card__source::before {
  content: "";
  width: 8px;
  height: 8px;
  border-radius: 999px;
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  box-shadow: 0 10px 18px -14px rgba(255, 107, 0, 0.9);
  flex: 0 0 auto;
}

.practice-card--feed .practice-card__date {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  white-space: nowrap;
}

.practice-card--feed .practice-card__date svg {
  width: 16px;
  height: 16px;
  opacity: 0.78;
}

.practice-card--feed .practice-card__title {
  font-family: var(--font-heading);
  font-size: 18px;
  font-weight: 900;
  letter-spacing: -0.2px;
  line-height: 1.3;
  margin: 0;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.practice-card--feed .practice-card__summary {
  color: var(--muted);
  font-size: 14px;
  font-weight: 700;
  line-height: 1.7;
  margin: 0;
  position: relative;
  /*
    footer 基线固定，但标题 1 行时 summary 不要“空出第二行标题”：
    - summary 本身作为 flex:1 吸收富余高度（保证 footer 对齐）
    - “最多 5 行 + 第 5 行渐隐”的约束交给内部 summary-text（避免 line-clamp 自带的 ...）
  */
  flex: 1 1 auto;
  overflow: hidden;
}

.practice-card--feed .practice-card__summary-text {
  display: block;
  position: relative;
  height: 8.5em; /* 5 行：1.7 * 5 = 8.5em */
  overflow: hidden;
  /* 第 5 行纵向整体渐隐：从第 5 行开始向下淡出 */
  mask-image: linear-gradient(
    to bottom,
    rgba(0, 0, 0, 1) 0,
    rgba(0, 0, 0, 1) 6.8em,
    rgba(0, 0, 0, 0.35) 7.6em,
    rgba(0, 0, 0, 0) 8.5em
  );
  -webkit-mask-image: linear-gradient(
    to bottom,
    rgba(0, 0, 0, 1) 0,
    rgba(0, 0, 0, 1) 6.8em,
    rgba(0, 0, 0, 0.35) 7.6em,
    rgba(0, 0, 0, 0) 8.5em
  );
}

/* 渐隐兜底：不支持 mask 时，用叠加蒙层模拟“第 5 行向下淡出” */
.practice-card--feed .practice-card__summary-text::after {
  content: "";
  position: absolute;
  left: 0;
  right: 0;
  top: 6.8em;
  bottom: 0;
  pointer-events: none;
  background: linear-gradient(to bottom, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.18) 22%, var(--card-surface) 100%);
}

@supports ((mask-image: linear-gradient(#000, transparent)) or (-webkit-mask-image: linear-gradient(#000, transparent))) {
  .practice-card--feed .practice-card__summary-text::after {
    display: none;
  }
}

.practice-card--feed .practice-card__bottom {
  padding-top: 14px;
  border-top: 1px solid rgba(255, 107, 0, 0.12);
  display: flex;
  align-items: flex-end;
  /*
    这里不要用 space-between：
    - space-between 会让「skills 组」按内容宽度收缩，导致右侧出现大块空白
    - 进而让 skills 的渐隐 mask 提前命中（看起来像“没超出也在渐隐”）
    改为 flex-start + 让右侧阅读量用 margin-left:auto 顶到最右，保证：
    - skills 占满蓝框区域（尽可能展示完整）
    - 只有真正靠近右侧（接近阅读量区域）时才开始渐隐
  */
  justify-content: flex-start;
  gap: 10px;
  color: var(--muted);
  font-size: 13px;
  font-weight: 800;
}

.practice-card--feed .practice-card__skills {
  display: flex;
  gap: 8px;
  align-items: center;
  min-width: 0;
  /*
    关键：skills 组要“占满可用宽度”，否则 mask 会按“内容宽度”计算，
    造成单个 skill 也出现不必要的渐隐。
  */
  flex: 1 1 auto;
  max-width: none;
}

.practice-card--feed .practice-card__skills-main {
  display: flex;
  align-items: center;
  gap: 8px;
  min-width: 0;
  overflow: hidden;
  white-space: nowrap;
  flex: 1 1 auto;
  /*
    单行截断渐隐：避免硬切边
    - 使用固定像素的“渐隐宽度”，让渐隐只发生在最右侧靠近阅读量区域的位置
    - 满足设计预期：蓝框区域不渐隐，只有接近（溢出到）右侧区域时才渐隐
  */
  mask-image: linear-gradient(to right, #000 0%, #000 calc(100% - 24px), transparent 100%);
  -webkit-mask-image: linear-gradient(to right, #000 0%, #000 calc(100% - 24px), transparent 100%);
}

.practice-card--feed .tag {
  /*
    多 tag 时需要限制最大宽度，避免一个超长名字挤占所有空间；
    单 tag 时应尽量展示完整（若仍放不下再省略号）。
  */
  overflow: hidden;
  text-overflow: ellipsis;
  flex: 0 0 auto;
}

.practice-card--feed .practice-card__skills-main .tag:only-child {
  max-width: 100%;
}

.practice-card--feed .tag--more {
  background: rgba(255, 255, 255, 0.68);
  color: var(--muted);
  flex: 0 0 auto;
}

.practice-card--feed .practice-card__read {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  white-space: nowrap;
  /* 让阅读量稳定贴右：与 bottom 的 justify-content:flex-start 配合 */
  margin-left: auto;
}

.practice-card--feed .practice-card__read svg {
  width: 16px;
  height: 16px;
  opacity: 0.78;
}

/*
  Footer 上浮蒙层（hover/focus）：
  - 不遮盖标题/摘要
  - 蒙层与背景做渐变衔接（mask）
  - 按钮 hover 扫光：只动 transform/opacity，性能更稳
*/
.practice-card--feed .practice-card__overlay {
  position: absolute;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 4;
  display: flex;
  align-items: flex-end;
  justify-content: center;
  gap: 12px;
  padding: 18px 12px;
  height: 112px;
  border-radius: 0 0 var(--radius-lg) var(--radius-lg);
  opacity: 0;
  visibility: hidden;
  pointer-events: none;
  transform: translate3d(0, 14px, 0);
  transition: opacity 220ms ease, transform 520ms cubic-bezier(0.16, 1, 0.3, 1), visibility 0s linear 220ms;
  mask-image: linear-gradient(
    to bottom,
    rgba(0, 0, 0, 0) 0%,
    rgba(0, 0, 0, 0.35) 22%,
    rgba(0, 0, 0, 1) 34%,
    rgba(0, 0, 0, 1) 100%
  );
  -webkit-mask-image: linear-gradient(
    to bottom,
    rgba(0, 0, 0, 0) 0%,
    rgba(0, 0, 0, 0.35) 22%,
    rgba(0, 0, 0, 1) 34%,
    rgba(0, 0, 0, 1) 100%
  );
  background:
    radial-gradient(120% 90% at 14% 100%, rgba(255, 107, 0, 0.26) 0%, rgba(255, 107, 0, 0) 62%),
    radial-gradient(120% 90% at 92% 100%, rgba(255, 51, 102, 0.22) 0%, rgba(255, 51, 102, 0) 60%),
    linear-gradient(180deg, rgba(26, 21, 16, 0) 0%, rgba(26, 21, 16, 0.28) 38%, rgba(26, 21, 16, 0.52) 100%);
  border: none;
  backdrop-filter: blur(12px) saturate(140%);
  box-shadow: 0 24px 60px -44px rgba(0, 0, 0, 0.55);
}

.practice-action {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 10px 14px;
  border-radius: 999px;
  border: 1px solid rgba(255, 255, 255, 0.24);
  background: rgba(255, 255, 255, 0.14);
  color: #fffaf2;
  font-size: 13px;
  font-weight: 900;
  letter-spacing: 0.15px;
  position: relative;
  overflow: hidden;
  isolation: isolate;
  cursor: pointer;
  transition: transform 180ms ease, background 180ms ease, border-color 180ms ease, box-shadow 180ms ease;
  will-change: transform;
  pointer-events: auto;
}

.practice-action svg {
  width: 18px;
  height: 18px;
  flex: 0 0 auto;
}

.practice-action::after {
  content: "";
  position: absolute;
  inset: -40% -70%;
  pointer-events: none;
  opacity: 0;
  transform: translate3d(-70%, 0, 0) rotate(16deg);
  background: linear-gradient(
    110deg,
    rgba(255, 255, 255, 0) 0%,
    rgba(255, 255, 255, 0) 42%,
    rgba(255, 255, 255, 0.58) 50%,
    rgba(255, 255, 255, 0) 58%,
    rgba(255, 255, 255, 0) 100%
  );
  will-change: transform, opacity;
}

.practice-action--primary {
  background: var(--primary);
  border-color: rgba(255, 255, 255, 0.16);
  box-shadow: 0 18px 34px -24px rgba(255, 107, 0, 0.62);
}

@media (hover: hover) and (pointer: fine) {
  .practice-card--feed:hover .practice-card__overlay {
    opacity: 1;
    visibility: visible;
    transform: translate3d(0, 0, 0);
    transition: opacity 220ms ease, transform 520ms cubic-bezier(0.16, 1, 0.3, 1);
  }

  /* 浮层出现时隐藏 footer 分割线，避免在透明渐变区显得突兀 */
  .practice-card--feed:hover .practice-card__bottom {
    border-top-color: transparent;
  }

  .practice-card--feed:hover {
    /* 与站点卡片 hover 统一：提亮到纯白，并同步变量用于渐隐兜底 */
    --card-surface: #fff;
  }

  .practice-action:hover {
    transform: translate3d(0, -1px, 0);
    background: rgba(255, 255, 255, 0.18);
    border-color: rgba(255, 255, 255, 0.34);
    box-shadow: 0 16px 30px -26px rgba(0, 0, 0, 0.35);
  }

  .practice-action:hover::after {
    opacity: 1;
    animation: practiceActionShine 1100ms cubic-bezier(0.16, 1, 0.3, 1) both;
  }

  .practice-action--primary:hover {
    background: var(--primary-strong);
    border-color: rgba(255, 255, 255, 0.22);
    box-shadow: 0 20px 38px -28px rgba(255, 107, 0, 0.72);
  }
}

@keyframes practiceActionShine {
  0% {
    opacity: 0;
    transform: translate3d(-70%, 0, 0) rotate(16deg);
  }
  18% {
    opacity: 1;
  }
  100% {
    opacity: 0;
    transform: translate3d(70%, 0, 0) rotate(16deg);
  }
}

@media (prefers-reduced-motion: reduce) {
  .practice-action::after {
    display: none;
  }
}

@keyframes cardGoldFlow {
  0% {
    transform: translate3d(-4px, -6px, 0) scale(1.02) rotate(0deg);
    background-position: 0% 0%, 100% 0%, 50% 100%;
  }
  40% {
    transform: translate3d(10px, -14px, 0) scale(1.06) rotate(1.4deg);
    background-position: 55% 18%, 45% 10%, 32% 82%;
  }
  70% {
    transform: translate3d(-8px, 10px, 0) scale(1.04) rotate(-1deg);
    background-position: 22% 50%, 70% 22%, 68% 62%;
  }
  100% {
    transform: translate3d(-4px, -6px, 0) scale(1.02) rotate(0deg);
    background-position: 0% 0%, 100% 0%, 50% 100%;
  }
}

/*
  卡片 Hover 交互统一（SkillCard / PracticeCard）
  ------------------------------------------------------------
  目标：
  - hover 时卡片“整体提亮”（背景更亮、边框更亮、阴影更干净）
  - Skill 与 Practice 的 hover 行为保持一致，减少视觉割裂
  - 仅在支持 hover 的设备启用（避免移动端 tap 后出现 sticky hover）
*/
@media (hover: hover) and (pointer: fine) {
  .skill-card:hover,
  .practice-card:hover {
    /* Hover 统一为“白色高亮”：不位移、不加阴影、取消暖色背景 */
    transform: none;
    background: #fff;
    border-color: rgba(255, 255, 255, 0.98);
    box-shadow: none;
  }

  .skill-card:hover::after,
  .practice-card:hover::after {
    opacity: 0;
  }

  .skill-card:hover::before,
  .practice-card:hover::before {
    opacity: 0;
    animation: none;
  }
}

@media (prefers-reduced-motion: reduce) {
  .skill-card:hover::before,
  .practice-card:hover::before {
    animation: none;
  }
}

/* ---------- Pagination ---------- */
.pagination {
  margin-top: 26px;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  flex-wrap: wrap;
}

/* 分页按钮轻量化：参考“细边框 + 白底”的轻设计，避免厚重渐变与阴影 */
.pagination__btn {
  min-width: 36px;
  height: 36px;
  padding: 0 12px;
  border-radius: 12px;
  background: rgba(255, 255, 255, 0.74);
  border: 1px solid rgba(255, 107, 0, 0.16);
  box-shadow: none;
  font-weight: 800;
  color: rgba(124, 94, 77, 0.92);
  transition: background 180ms ease, border-color 180ms ease, color 180ms ease;
}

.pagination__btn:hover {
  background: #fff;
  border-color: rgba(255, 107, 0, 0.3);
  color: var(--text);
}

.pagination__btn.is-active {
  background: #fff;
  border-color: var(--primary);
  color: var(--primary-strong);
}

/* 详情页分页按钮同步轻量化，避免“厚重按钮”割裂 */
.page-btn {
  min-width: 36px;
  height: 36px;
  padding: 0 12px;
  border-radius: 12px;
  background: rgba(255, 255, 255, 0.74);
  border: 1px solid rgba(255, 107, 0, 0.16);
  box-shadow: none;
  font-weight: 600;
  color: rgba(124, 94, 77, 0.92);
  transition: background 180ms ease, border-color 180ms ease, color 180ms ease;
}

.page-btn:hover {
  background: #fff;
  border-color: rgba(255, 107, 0, 0.3);
  color: var(--text);
}

.page-btn.is-active {
  background: rgba(255, 255, 255, 0.7);
  border-color: var(--primary);
  color: var(--primary-strong);
}

/* ---------- Detail hero (Detail page) ---------- */
.hero--detail {
  margin: 0;
}

.hero__inner--detail {
  padding: 142px var(--page-gutter) 72px;
  min-height: 420px;
  gap: 56px;
  align-items: flex-start;
}

.hero-copy--detail {
  max-width: 860px;
}

.detail-crumbs {
  display: flex;
  align-items: center;
  gap: 10px;
  flex-wrap: wrap;
  margin-bottom: 16px;
}

/* 详情页“热度”数值需要更醒目：仅在面包屑区域提升字号，避免影响其它统计信息与卡片展示 */
.detail-crumbs .stat--heat {
  font-size: 14px;
}

.crumb-back {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 9px 12px;
  border-radius: 999px;
  background: rgba(255, 255, 255, 0.6);
  border: 1px solid rgba(255, 255, 255, 0.82);
  color: rgba(124, 94, 77, 0.92);
  font-size: 13px;
  font-weight: 900;
  transition: transform 160ms ease, background 160ms ease, border-color 160ms ease;
}

.crumb-back:hover {
  transform: translateY(-1px);
  background: rgba(255, 255, 255, 0.92);
  border-color: rgba(255, 107, 0, 0.18);
}

.detail-hero__title {
  margin: 0;
}

.detail-hero__title-row {
  display: flex;
  align-items: center;
  gap: 12px;
  flex-wrap: wrap;
}

/* 详情页标题旁的标签：靠近标题但保持轻量 */
.detail-hero__tag {
  align-self: center;
}

/* v1.3.0：技能包标识（与分类 Tag 区分，用更中性的琥珀色） */
.detail-hero__package {
  align-self: center;
}

.tag--package {
  background: rgba(255, 204, 0, 0.14);
  border-color: rgba(255, 204, 0, 0.28);
  color: rgba(124, 94, 77, 0.92);
  /* 技能包标签内包含问号按钮：稍微加大子元素间距，减少“挤在一起”的拥挤感 */
  gap: 8px;
}

/*
  技能包问号提示（仅桌面端 hover/聚焦展示）：
  - 需求：问号“包含在技能包 label 内”，因此问号按钮作为 tag 的子元素渲染
  - 气泡位置：右上（相对问号按钮向上弹出，并向右展开），减少遮挡标题/副标题的概率
  - 动效：仅使用 transform/opacity，避免触发布局，滚动/hover 更稳定
*/
.tag--package .tag__help {
  position: relative;
  /*
    需求：问号 icon 不需要外层容器
    - 去掉圆形背景/描边，让它更像标签的一部分，而不是一个“额外按钮”
    - 仍保留 button 语义：可聚焦，支持键盘触达（focus-visible）
  */
  border: 0;
  background: transparent;
  padding: 0;
  color: rgba(255, 204, 0, 0.92); /* 与标签背景同一色相（更“融入”技能包标签） */
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: help;
  -webkit-tap-highlight-color: transparent;
  transition: transform 180ms ease, filter 180ms ease, color 180ms ease;
  will-change: transform;
}

.tag--package .tag__help:focus-visible {
  outline: 2px solid rgba(255, 204, 0, 0.34);
  outline-offset: 2px;
  border-radius: 999px;
}

.tag--package .tag__help:hover,
.tag--package .tag__help:focus-visible {
  transform: translate3d(0, -1px, 0);
  color: rgba(255, 204, 0, 0.98);
  filter: drop-shadow(0 10px 18px rgba(255, 107, 0, 0.18));
}

.tag--package .tag__help .icon {
  width: 16px;
  height: 16px;
  stroke-width: 2.2;
}

.tag--package .tag__tooltip {
  position: absolute;
  /*
    右上气泡定位：
    - 以问号 icon 的右侧为锚点（right），让气泡主体向左展开
    - 目的：把气泡挪到“问号左上方”的空白区域（用户标注红框），避免压住右侧的其它标签（如“生产力”）
  */
  right: -6px;
  bottom: calc(100% + 10px);
  /*
    文案较短时，tooltip 不需要“强行撑宽”：
    - 之前的 min-width 会导致两侧留出过多空白（用户反馈红框）
    - 改为内容自适应宽度，同时保留 max-width 作为兜底，避免未来文案变长时撑爆
  */
  min-width: 0;
  width: max-content;
  max-width: 220px;
  padding: 8px 10px;
  border-radius: 10px;
  border: 1px solid rgba(255, 204, 0, 0.22);
  background: rgba(255, 255, 255, 0.96);
  color: rgba(71, 85, 105, 0.92);
  font-size: 12px;
  line-height: 1.45;
  font-weight: 600;
  /* 避免 tag 的字距/不换行设置影响气泡排版 */
  letter-spacing: normal;
  white-space: normal;
  word-break: break-word;
  overflow-wrap: anywhere;
  box-shadow: 0 16px 30px -22px rgba(255, 107, 0, 0.32);
  backdrop-filter: blur(12px) saturate(160%);
  opacity: 0;
  visibility: hidden;
  pointer-events: none;
  /* 气泡从下往上“弹出”一点点，视觉更自然 */
  transform: translate3d(0, 6px, 0);
  transition: opacity 180ms ease, transform 180ms ease, visibility 180ms ease;
  will-change: transform, opacity;
  z-index: 6;
}

.tag--package .tag__tooltip::after {
  content: "";
  position: absolute;
  bottom: 0;
  /* 箭头对齐问号 icon：气泡以 right 为锚点时，用 right 侧定位更稳定 */
  right: 14px;
  width: 8px;
  height: 8px;
  border-right: 1px solid rgba(255, 204, 0, 0.22);
  border-bottom: 1px solid rgba(255, 204, 0, 0.22);
  background: rgba(255, 255, 255, 0.96);
  transform: translate3d(0, 50%, 0) rotate(45deg);
}

.tag--package .tag__help:hover .tag__tooltip,
.tag--package .tag__help:focus-visible .tag__tooltip {
  opacity: 1;
  visibility: visible;
  transform: translate3d(0, 0, 0);
}

.hero-copy__brand--skill {
  --brand-aura-size: 165%;
  --brand-aura-speed: 14s;
  /* Tone down the "logo-like" yellow highlight for skill name. */
  --brand-aura-1: rgba(255, 170, 86, 0.52);
  --brand-aura-2: rgba(255, 107, 0, 0.68);
  --brand-aura-3: rgba(255, 51, 102, 0.12);
  --brand-aura-4: rgba(255, 255, 255, 0.14);

  font-size: clamp(38px, 3.6vw, 58px);
  font-weight: 800;
  letter-spacing: -1.15px;
  text-shadow: 0 0 0.18ch rgba(255, 107, 0, 0.1), 0 0 0.46ch rgba(255, 255, 255, 0.06);
  filter: saturate(1.06) contrast(1.04) drop-shadow(0 10px 18px rgba(255, 107, 0, 0.05));
  /* Skill name should feel "designed", not "logo-like": keep the gradient, drop the motion. */
  animation: none;
  will-change: auto;
  background-image:
    linear-gradient(115deg, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.14) 14%, rgba(255, 255, 255, 0) 30%),
    radial-gradient(at 62% 9%, var(--brand-aura-1) 0px, transparent 44%),
    radial-gradient(at 69% 60%, var(--brand-aura-2) 0px, transparent 48%),
    radial-gradient(at 24% 89%, var(--brand-aura-3) 0px, transparent 52%),
    radial-gradient(at 51% 77%, var(--brand-aura-4) 0px, transparent 58%),
    radial-gradient(at 78% 92%, var(--brand-aura-1) 0px, transparent 50%),
    linear-gradient(135deg, var(--primary-strong) 0%, var(--primary) 56%, var(--secondary) 120%);
}

.detail-hero__subtitle {
  margin-top: 12px;
  color: rgba(26, 21, 16, 0.84);
  line-height: 1.75;
  font-size: 16px;
  font-weight: 600;
  max-width: 78ch;
}

.detail-hero__stats {
  margin-top: 16px;
  display: flex;
  flex-wrap: wrap;
  gap: 10px 12px;
}

/* 详情页统计项：增加 label/value 结构，统一字重与节奏 */
.detail-hero__stats .stat__label {
  font-size: 12px;
  font-weight: 800;
  letter-spacing: 0.2px;
  opacity: 0.88;
}

.detail-hero__stats .stat__value {
  font-size: 13px;
  font-weight: 900;
  letter-spacing: 0.2px;
}

/* Star / Update 保持一致风格 */
/* Star / Update 也采用“无框”样式：去容器，仅保留文字与图标 */
.detail-hero__stats .stat {
  background: transparent;
  border: none;
  color: rgba(124, 94, 77, 0.92);
}

/* 热度无框设计：视觉更强，图标对齐首页火焰语义 */
.detail-hero__stats .stat--heat {
  position: relative;
  background: transparent;
  border: none;
  color: var(--primary-strong);
  text-shadow: 0 1px 0 rgba(255, 255, 255, 0.65), 0 0 14px rgba(255, 107, 0, 0.35);
}

.detail-hero__stats .stat--heat .icon {
  width: 20px;
  height: 20px;
  color: #ff6b00;
  filter: drop-shadow(0 0 10px rgba(255, 120, 30, 0.45));
  stroke-width: 2.4;
}

.detail-hero__stats .stat--heat .stat__value {
  font-size: 16px;
}

/* 热度额外光晕：更强存在感，但不形成完整背景容器 */
.detail-hero__stats .stat--heat::before {
  content: "";
  position: absolute;
  /* 光晕跟随火焰图标中心，避免偏移 */
  left: 20px;
  top: 50%;
  width: 26px;
  height: 26px;
  transform: translate(-50%, -50%);
  border-radius: 999px;
  background: radial-gradient(circle, rgba(255, 170, 70, 0.55) 0%, rgba(255, 170, 70, 0) 70%);
  opacity: 0.9;
  z-index: -1;
}

/* Star/Update 图标与文字更统一 */
.detail-hero__stats .stat .icon {
  width: 16px;
  height: 16px;
}

.detail-hero__facts {
  display: flex;
  flex-wrap: wrap;
  gap: 10px 12px;
  margin-top: 18px;
}

.hero--detail .detail-hero__facts .hero-fact {
  padding: 10px 14px;
  border-radius: 999px;
  /* Match header frosted-glass feel: higher blur + whiter border, softer shadow. */
  background: rgba(255, 255, 255, 0.56);
  border: 1px solid rgba(255, 255, 255, 0.86);
  backdrop-filter: blur(22px) saturate(180%);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.04);
  font-size: 13px;
  font-weight: 850;
  line-height: 1;
  letter-spacing: 0.15px;
  color: rgba(26, 21, 16, 0.84);
}

.hero--detail .detail-hero__facts .hero-fact__dot {
  width: 9px;
  height: 9px;
  box-shadow: none;
  background: linear-gradient(135deg, rgba(255, 107, 0, 0.9), rgba(255, 204, 0, 0.66));
}

.hero--detail .detail-hero__facts .hero-fact--link {
  color: rgba(26, 21, 16, 0.9);
}

.hero--detail .detail-hero__facts .hero-fact--link .icon {
  opacity: 0.62;
}

.hero--detail .detail-hero__facts .hero-fact--link:hover {
  background: rgba(255, 255, 255, 0.78);
  border-color: rgba(255, 255, 255, 0.92);
  box-shadow: 0 12px 36px rgba(0, 0, 0, 0.06);
}

.hero-fact {
  transition: transform 160ms ease, background 160ms ease, border-color 160ms ease, box-shadow 160ms ease;
}

.hero-fact--link {
  gap: 10px;
}

.hero-fact--link .icon {
  width: 16px;
  height: 16px;
  opacity: 0.72;
}

.hero-fact--link:hover {
  transform: translateY(-1px);
  background: rgba(255, 255, 255, 0.92);
  border-color: rgba(255, 107, 0, 0.18);
  box-shadow: 0 20px 44px -38px rgba(50, 20, 0, 0.22);
}

.detail-panel {
  width: clamp(320px, 28vw, 380px);
  border-radius: var(--radius-lg);
  border: 1px solid rgba(255, 255, 255, 0.9);
  background: rgba(255, 255, 255, 0.8);
  backdrop-filter: blur(18px) saturate(180%);
  box-shadow: var(--shadow-float);
  padding: 18px;
  position: relative;
  /* 允许问号提示气泡溢出，避免通过 padding 撑高卡片导致高度异常 */
  overflow: visible;
}

.detail-panel::before {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  /* background:
    radial-gradient(circle at 18% 18%, rgba(255, 204, 0, 0.14), transparent 58%),
    radial-gradient(circle at 82% 10%, rgba(255, 107, 0, 0.12), transparent 56%),
    linear-gradient(135deg, rgba(255, 107, 0, 0.06), rgba(255, 204, 0, 0.06)); */
  opacity: 0.95;
}

.detail-panel > * {
  position: relative;
  z-index: 1;
}

.detail-panel__header {
  display: flex;
  flex-direction: column;
  gap: 4px;
  margin-bottom: 12px;
}

.detail-panel__title {
  font-family: var(--font-heading);
  font-weight: 900;
  letter-spacing: -0.2px;
  font-size: 16px;
}

.detail-panel__hint {
  color: rgba(124, 94, 77, 0.86);
  font-size: 12px;
  font-weight: 900;
}

.detail-panel__actions {
  display: grid;
  gap: 10px;
}

.detail-panel__actions .btn {
  width: 100%;
  justify-content: center;
}

/* 详情页下载区域：按钮 + 气泡说明（问号放在按钮内）。 */
.detail-panel__download {
  position: relative;
  display: grid;
  gap: 10px;
}

/* 不再用 padding 预留空间，气泡通过溢出显示，避免卡片高度被撑大。 */
.detail-panel__download[data-unsupported="true"] {
  padding-bottom: 0;
}

/* 下载按钮：与通用 btn 宽度对齐，保持点击面积充足。 */
.detail-panel__download-btn {
  width: 100%;
  justify-content: center;
}

/* 白色系下载按钮：替换主色渐变，降低视觉侵入。 */
.btn--download.btn--download-alt {
  background: rgba(255, 255, 255, 0.96);
  border: 1px solid rgba(255, 107, 0, 0.22);
  color: var(--text);
  box-shadow: 0 12px 24px -20px rgba(50, 20, 0, 0.22);
  /* 允许提示气泡溢出按钮区域，避免被裁剪 */
  overflow: visible;
}

.btn--download.btn--download-alt:hover {
  background: #fff;
  border-color: rgba(255, 107, 0, 0.32);
  box-shadow: 0 16px 28px -22px rgba(50, 20, 0, 0.3);
  filter: none;
}

/* 下载按钮主内容：图标 + 文案保持左侧对齐。 */
.detail-panel__download-main {
  display: inline-flex;
  align-items: center;
  gap: 10px;
}

/* 带问号的按钮：让问号贴右侧，形成“内嵌说明”布局。 */
.detail-panel__download-btn--with-help {
  justify-content: flex-start;
}

/* 按钮内问号：可视强调但不抢主按钮的视觉。 */
.detail-panel__download-help-inline {
  position: relative;
  margin-left: auto;
  width: 30px;
  height: 30px;
  border-radius: 999px;
  background: rgba(255, 255, 255, 0.86);
  color: rgba(124, 94, 77, 0.9);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  transition: transform 180ms ease, box-shadow 180ms ease, background 180ms ease;
  will-change: transform;
}

.detail-panel__download-help-inline .icon {
  width: 16px;
  height: 16px;
}

.detail-panel__download-btn--with-help:hover .detail-panel__download-help-inline,
.detail-panel__download-btn--with-help:focus-visible .detail-panel__download-help-inline {
  transform: translate3d(0, -1px, 0);
  box-shadow: 0 10px 22px -16px rgba(255, 107, 0, 0.4);
  background: rgba(255, 255, 255, 0.98);
}

/* 下载说明气泡：仅在 hover 问号时展示，使用 transform/opacity 触发 GPU 合成。 */
.detail-panel__download-tooltip {
  position: absolute;
  right: -4px;
  top: calc(100% + 8px);
  min-width: 200px;
  max-width: 240px;
  padding: 8px 10px;
  border-radius: 10px;
  border: 1px solid rgba(255, 107, 0, 0.16);
  background: rgba(255, 255, 255, 0.96);
  color: rgba(71, 85, 105, 0.92);
  font-size: 12px;
  line-height: 1.45;
  font-weight: 600;
  /* 避免按钮的字距/不换行设置影响气泡排版 */
  letter-spacing: normal;
  white-space: normal;
  word-break: break-word;
  overflow-wrap: anywhere;
  box-shadow: 0 16px 30px -22px rgba(255, 107, 0, 0.35);
  backdrop-filter: blur(12px) saturate(160%);
  opacity: 0;
  visibility: hidden;
  pointer-events: none;
  transform: translate3d(0, -6px, 0);
  transition: opacity 180ms ease, transform 180ms ease, visibility 180ms ease;
  will-change: transform, opacity;
  z-index: 6;
}

.detail-panel__download-tooltip::after {
  content: "";
  position: absolute;
  top: 0;
  right: 14px;
  width: 8px;
  height: 8px;
  border-right: 1px solid rgba(255, 107, 0, 0.16);
  border-bottom: 1px solid rgba(255, 107, 0, 0.16);
  background: rgba(255, 255, 255, 0.96);
  transform: translate3d(0, -50%, 0) rotate(45deg);
}

.detail-panel__download-help-inline:hover .detail-panel__download-tooltip {
  opacity: 1;
  visibility: visible;
  transform: translate3d(0, 0, 0);
}

/* v1.4.0：详情页 npx 命令框（仅 PC）
   - 展示位置：下载区域上方（与 ZIP 下载并行，不互斥）
   - 视觉：不额外展示“npx 下载”等标题，仅展示命令 + 复制图标
   - 性能：hover/pressed 仅使用 transform/opacity（GPU 友好） */
.detail-panel__npx {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 10px 12px;
  border-radius: 16px;
  border: 1px solid rgba(255, 107, 0, 0.14);
  background: rgba(255, 255, 255, 0.96);
  box-shadow: 0 14px 26px -24px rgba(255, 107, 0, 0.22);
  overflow: hidden;
}

.detail-panel__npx-scroll {
  position: relative;
  flex: 1;
  min-width: 0;
  overflow: hidden;
}

/* 右侧渐隐：提示“命令可横向滚动/可复制”，与站内其他渐隐语义一致 */
.detail-panel__npx-scroll::after {
  content: "";
  position: absolute;
  top: 0;
  right: 0;
  width: 38px;
  height: 100%;
  background: linear-gradient(90deg, rgba(255, 255, 255, 0), rgba(255, 255, 255, 0.96));
  pointer-events: none;
}

.detail-panel__npx-code {
  display: block;
  padding-right: 38px;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  font-size: 12px;
  font-weight: 800;
  line-height: 1.6;
  color: rgba(15, 23, 42, 0.92);
  white-space: nowrap;
  overflow-x: auto;
  scrollbar-width: none;
  user-select: text;
}

.detail-panel__npx-code::-webkit-scrollbar {
  display: none;
}

.detail-panel__npx-copy {
  flex: none;
  width: 34px;
  height: 34px;
  border-radius: 12px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border: 1px solid rgba(255, 107, 0, 0.16);
  background: rgba(255, 107, 0, 0.08);
  color: rgba(15, 23, 42, 0.9);
  cursor: pointer;
  transition: transform 160ms ease, background 160ms ease, border-color 160ms ease, box-shadow 160ms ease;
  will-change: transform;
}

.detail-panel__npx-copy .icon {
  width: 16px;
  height: 16px;
}

.detail-panel__npx-copy:hover,
.detail-panel__npx-copy:focus-visible {
  transform: translate3d(0, -1px, 0);
  background: rgba(255, 107, 0, 0.12);
  border-color: rgba(255, 107, 0, 0.24);
  box-shadow: 0 14px 26px -22px rgba(255, 107, 0, 0.26);
}

.detail-panel__npx-copy:active {
  transform: translate3d(0, 0, 0);
}

.detail-panel__npx-copy[data-state="copied"] {
  border-color: rgba(16, 185, 129, 0.35);
  background: rgba(16, 185, 129, 0.12);
}

.detail-panel__npx-copy[data-state="error"] {
  border-color: rgba(239, 68, 68, 0.35);
  background: rgba(239, 68, 68, 0.12);
}

/* 详情页右侧仓库信息：头像 + 作者 + 仓库短地址 */
.detail-panel__repo {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px;
  border-radius: 16px;
  background: rgba(255, 255, 255, 0.66);
  border: 1px solid rgba(255, 255, 255, 0.9);
  margin-bottom: 14px;
}

.detail-panel__repo--link {
  text-decoration: none;
  color: inherit;
  cursor: pointer;
  transition: border-color 180ms ease, background 180ms ease, box-shadow 180ms ease;
}

.detail-panel__repo--link:hover {
  background: rgba(255, 255, 255, 0.82);
  border-color: rgba(255, 107, 0, 0.18);
  box-shadow: 0 16px 32px -26px rgba(255, 107, 0, 0.22);
}

.detail-panel__repo-avatar {
  width: 48px;
  height: 48px;
  border-radius: 14px;
  object-fit: cover;
  background: rgba(255, 220, 186, 0.6);
  border: 1px solid rgba(255, 255, 255, 0.95);
}

.detail-panel__repo-main {
  display: flex;
  flex-direction: column;
  gap: 6px;
  min-width: 0;
}

.detail-panel__repo-name {
  font-weight: 900;
  color: rgba(26, 21, 16, 0.9);
  font-size: 14px;
  letter-spacing: 0.1px;
}

/* 仓库短链接文本：无外层容器，仅保留图标 + 短链 */
.detail-panel__repo-short {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  color: rgba(124, 94, 77, 0.92);
  font-size: 12px;
  font-weight: 800;
  white-space: nowrap;
}

.detail-panel__repo-short .icon {
  width: 14px;
  height: 14px;
}

.page--detail {
  /*
    Detail 页内容区需要与 Hero 的左右 gutter 对齐：
    - Hero 使用 `padding: ... var(--page-gutter) ...`（避免内容贴边）
    - 如果详情页主体不加左右 padding，实践卡片网格会显得“过宽/不对齐”（用户验收反馈）
    - 只改 detail 页，避免影响首页等其它页面的排版
  */
  padding: 56px var(--page-gutter) 24px;
}

/* ---------- Detail Tabs (static mockup) ---------- */
.detail-switch {
  margin-bottom: 18px;
}

.detail-switch__radio {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

.detail-switch__header {
  position: static;
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 16px;
  flex-wrap: wrap;
  margin-bottom: 24px;
}

.detail-switch__left {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.detail-switch__right {
  display: flex;
  align-items: center;
}

.detail-switch__tabs {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  padding: 0;
  width: auto;
}

/* 实践区投稿引导条：横向入口卡，强调参与感与行动引导。 */
.practice-cta {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 18px;
  padding: 18px 22px;
  margin-bottom: 18px;
  /* 保持与实践列表同宽，避免按钮语义导致自适应收缩 */
  width: 100%;
  border-radius: 22px;
  border: 1px solid transparent;
  background:
    linear-gradient(140deg, rgba(255, 255, 255, 0.96), rgba(255, 244, 233, 0.88)) padding-box,
    linear-gradient(120deg, rgba(255, 107, 0, 0.45), rgba(255, 204, 0, 0.35), rgba(255, 51, 102, 0.35)) border-box;
  box-shadow: 0 22px 48px -34px rgba(255, 107, 0, 0.45),
    0 0 0 1px rgba(255, 255, 255, 0.82) inset;
  backdrop-filter: blur(12px) saturate(165%);
  overflow: hidden;
  isolation: isolate;
  /* 入场动画只使用 transform + opacity，避免触发布局与重绘 */
  animation: practiceCtaIn 720ms cubic-bezier(0.16, 1, 0.3, 1) both;
  will-change: transform, opacity;
  transform: translateZ(0);
}

/* 骨架模式：弱化视觉与动效，避免把“占位”误认成可点击入口 */
.practice-cta--skeleton {
  min-height: 78px;
  background: rgba(255, 255, 255, 0.7);
  border-color: rgba(255, 255, 255, 0.8);
  box-shadow: 0 16px 30px -26px rgba(50, 20, 0, 0.12);
  animation: none;
  pointer-events: none;
}

/* 骨架占位禁用光晕层，保持低噪音与低误导 */
.practice-cta--skeleton::before,
.practice-cta--skeleton::after {
  display: none;
}

/* 整条可点击时的交互反馈：轻微抬升 + 投影增强，强调“可行动”。 */
.practice-cta--interactive {
  cursor: pointer;
  text-align: left;
  transition: transform 180ms ease, box-shadow 180ms ease, filter 180ms ease;
}

.practice-cta--interactive:hover {
  transform: translateY(-1px);
  box-shadow: 0 26px 54px -34px rgba(255, 107, 0, 0.6),
    0 0 0 1px rgba(255, 255, 255, 0.9) inset;
}

.practice-cta--interactive:active {
  transform: translateY(0) scale(0.99);
}

.practice-cta:disabled {
  cursor: not-allowed;
  opacity: 0.78;
}

/* 背景暖光：静态层 + 缓慢呼吸层，使用 transform/opacity 保持性能。 */
.practice-cta::before,
.practice-cta::after {
  content: "";
  position: absolute;
  pointer-events: none;
  transform: translate3d(0, 0, 0);
  z-index: 0;
}

.practice-cta::before {
  inset: -40% 45% 25% -45%;
  background: radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.85), transparent 65%);
  opacity: 0.6;
}

.practice-cta::after {
  inset: -60% 55% -20% -35%;
  background: radial-gradient(circle at 40% 30%, rgba(255, 204, 0, 0.32), transparent 60%);
  opacity: 0.45;
  animation: practiceCtaPulse 7.2s ease-in-out infinite;
  will-change: transform, opacity;
}

/* 光晕扫过层：用于“扫光”入场与 hover 提示，增强动效记忆点。 */
.practice-cta__sweep {
  position: absolute;
  inset: -40% -30%;
  /* 收窄高光带并强化亮度，让扫光更“强”且更有质感 */
  background: linear-gradient(
    120deg,
    transparent 0%,
    transparent 38%,
    rgba(255, 255, 255, 0.98) 46%,
    rgba(255, 244, 222, 0.7) 49%,
    transparent 58%,
    transparent 100%
  );
  opacity: 0;
  transform: translate3d(-100%, 0, 0);
  animation: practiceCtaSweep 2.4s ease-out 0s both;
  pointer-events: none;
  z-index: 0;
}

.practice-cta--interactive:hover .practice-cta__sweep {
  animation: practiceCtaSweep 2.4s ease-in-out;
}

/* 文案区：标题用展示字体，描述承载清晰动机。 */
.practice-cta__content {
  display: flex;
  flex-direction: column;
  gap: 6px;
  flex: 1 1 auto;
  min-width: 0;
  z-index: 1;
  /* 文案分层入场，营造“从内容到行动”的阅读节奏 */
  animation: practiceCtaRise 560ms cubic-bezier(0.16, 1, 0.3, 1) both;
  animation-delay: 90ms;
  will-change: transform, opacity;
}

.practice-cta__title {
  margin: 0;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  font-family: var(--font-heading);
  font-size: 16px;
  font-weight: 900;
  letter-spacing: -0.2px;
  color: var(--text);
}

.practice-cta__title .icon {
  width: 16px;
  height: 16px;
  color: var(--primary-strong);
  filter: drop-shadow(0 6px 10px rgba(255, 107, 0, 0.35));
  flex-shrink: 0;
}

.practice-cta__desc {
  margin: 0;
  color: var(--muted);
  font-size: 13px;
  font-weight: 700;
  line-height: 1.4;
}

/* CTA 视觉胶囊：承载“行动感”，但真正点击由整条引导条承接。 */
.practice-cta__cta {
  position: relative;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 10px 18px;
  border-radius: 999px;
  /* CTA 空心化：移除底色，仅保留描边与橙色文字，视觉更克制 */
  border: 1px solid rgba(255, 107, 0, 0.4);
  background: transparent;
  color: var(--primary-strong);
  font-size: 13px;
  font-weight: 800;
  letter-spacing: 0.2px;
  /* 空心状态投影更轻：避免再加“实心”错觉 */
  box-shadow: 0 8px 16px -18px rgba(255, 107, 0, 0.25);
  transition: box-shadow 180ms ease, filter 180ms ease, border-color 180ms ease, color 180ms ease;
  overflow: hidden;
  z-index: 1;
  flex-shrink: 0;
  /* CTA 稍后入场，形成“先理解，再行动”的节奏 */
  animation: practiceCtaRise 560ms cubic-bezier(0.16, 1, 0.3, 1) both;
  animation-delay: 160ms;
  will-change: transform, opacity;
  transform: translateZ(0);
}

/* CTA 文案短句：保持单行显示，避免挤压导致跳行。 */
.practice-cta__cta-text {
  white-space: nowrap;
}

.practice-cta__cta::after {
  /* 空心风格不使用内部扫光，避免出现“有底色”的错觉 */
  content: none;
}

.practice-cta--interactive:hover .practice-cta__cta {
  /* hover 只提升描边与投影，保持空心质感 */
  box-shadow: 0 12px 22px -18px rgba(255, 107, 0, 0.35);
  border-color: rgba(255, 107, 0, 0.55);
  color: var(--primary-strong);
}

/* CTA 加载态：仅影响胶囊内部，不影响整条可读性 */
.practice-cta__cta-loading {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 0;
  margin-left: 0;
  overflow: hidden;
  opacity: 0;
  transition: opacity 180ms ease, width 180ms ease, margin-left 180ms ease;
}

.practice-cta__cta[data-loading="true"] .practice-cta__cta-text {
  opacity: 0.72;
}

.practice-cta__cta[data-loading="true"] .practice-cta__cta-loading {
  width: 18px;
  margin-left: 6px;
  opacity: 1;
}

@keyframes practiceCtaPulse {
  0% {
    transform: translate3d(0, 0, 0) scale(0.96);
    opacity: 0.4;
  }
  55% {
    transform: translate3d(2%, -2%, 0) scale(1);
    opacity: 0.65;
  }
  100% {
    transform: translate3d(0, 0, 0) scale(0.96);
    opacity: 0.45;
  }
}

@keyframes practiceCtaIn {
  0% {
    opacity: 0;
    transform: translate3d(0, 12px, 0) scale(0.98);
  }
  70% {
    opacity: 1;
    transform: translate3d(0, -4px, 0) scale(1.01);
  }
  100% {
    opacity: 1;
    transform: translate3d(0, 0, 0) scale(1);
  }
}

@keyframes practiceCtaRise {
  0% {
    opacity: 0;
    transform: translate3d(0, 8px, 0);
  }
  100% {
    opacity: 1;
    transform: translate3d(0, 0, 0);
  }
}

@keyframes practiceCtaSweep {
  /* 扫光提前可见：15% 就出现高光，避免晚于入场放缩 */
  0% {
    opacity: 0;
    transform: translate3d(-120%, 0, 0);
  }
  15% {
    opacity: 0.75;
  }
  35% {
    opacity: 0.9;
  }
  55% {
    opacity: 0.6;
  }
  100% {
    opacity: 0;
    transform: translate3d(120%, 0, 0);
  }
}

.detail-switch__tab {
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  padding: 10px 18px;
  border-radius: 14px;
  font-size: 13px;
  font-weight: 900;
  letter-spacing: 0.2px;
  color: var(--text);
  background: rgba(255, 255, 255, 0.44);
  border: 1px solid rgba(255, 107, 0, 0.14);
  backdrop-filter: blur(10px) saturate(160%);
  box-shadow: 0 18px 44px -38px rgba(50, 20, 0, 0.22);
  transition: background 180ms ease, color 180ms ease, box-shadow 180ms ease, border-color 180ms ease;
  cursor: pointer;
  user-select: none;
  white-space: nowrap;
}

.detail-switch__tab:hover {
  /* 参考首页 tab：仅提升高亮与阴影，不位移 */
  background: rgba(255, 255, 255, 0.76);
  box-shadow: 0 26px 64px -52px rgba(255, 107, 0, 0.55), 0 18px 44px -40px rgba(50, 20, 0, 0.22);
  border-color: rgba(255, 107, 0, 0.22);
}

#view-practices:checked ~ .detail-switch__header .detail-switch__tabs label[for="view-practices"]:hover,
#view-skillmd:checked ~ .detail-switch__header .detail-switch__tabs label[for="view-skillmd"]:hover {
  /* 选中态 hover 仍保持空心质感，略微提高明度与描边 */
  background: rgba(255, 255, 255, 0.98);
  color: var(--primary-strong);
  border-color: rgba(255, 107, 0, 0.6);
}

.detail-switch__count {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  height: 20px;
  padding: 0 9px;
  border-radius: 999px;
  background: rgba(255, 255, 255, 0.92);
  border: 1px solid rgba(255, 255, 255, 0.7);
  box-shadow: none;
  color: var(--primary-strong);
  font-size: 11px;
  font-weight: 900;
  letter-spacing: 0.2px;
}

.detail-switch__indicator {
  display: none;
}

.detail-switch__indicator::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  background: none;
  opacity: 0;
}

#view-skillmd:checked ~ .detail-switch__header .detail-switch__tabs .detail-switch__indicator {
  transform: translateX(calc(100% + var(--tabs-gap)));
}

#view-practices:focus-visible ~ .detail-switch__header .detail-switch__tabs label[for="view-practices"],
#view-skillmd:focus-visible ~ .detail-switch__header .detail-switch__tabs label[for="view-skillmd"] {
  outline: 3px solid rgba(255, 107, 0, 0.55);
  outline-offset: 4px;
}

#view-practices:checked ~ .detail-switch__header .detail-switch__tabs label[for="view-practices"],
#view-skillmd:checked ~ .detail-switch__header .detail-switch__tabs label[for="view-skillmd"] {
  /* 详情页 Tab 选中态改为空心胶囊：白底 + 橙色描边 + 橙色文字 */
  background: rgba(255, 255, 255, 0.8);
  color: var(--primary-strong);
  border-color: rgba(255, 107, 0, 0.5);
  box-shadow: 0 16px 34px -26px rgba(255, 107, 0, 0.35);
}

#view-practices:checked ~ .detail-switch__header .detail-switch__tabs label[for="view-practices"] .detail-switch__count {
  /* 计数胶囊同步空心风格：淡橙底 + 橙色边框与文字 */
  background: rgba(255, 107, 0, 0.12);
  border-color: rgba(255, 107, 0, 0.28);
  color: var(--primary-strong);
}

.detail-tabpanel {
  display: none;
}

#view-practices:checked ~ .detail-switch__panels .detail-tabpanel--practices,
#view-skillmd:checked ~ .detail-switch__panels .detail-tabpanel--skillmd {
  display: block;
  animation: tabPanelIn 520ms cubic-bezier(0.16, 1, 0.3, 1);
}

@keyframes tabPanelIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@media (prefers-reduced-motion: reduce) {
  .detail-switch__indicator,
  .detail-switch__tab {
    transition: none;
  }
  /* 投稿引导条减少动态：关闭呼吸光晕，保留静态层级关系 */
  .practice-cta::after {
    animation: none;
  }
  /* 关闭扫光效果，避免动态干扰 */
  .practice-cta__sweep,
  .practice-cta--interactive:hover .practice-cta__sweep {
    animation: none;
  }
  /* 低动态偏好：关闭入场动画，保持内容直接可见 */
  .practice-cta,
  .practice-cta__content,
  .practice-cta__cta {
    animation: none;
  }
  #view-practices:checked ~ .detail-switch__panels .detail-tabpanel--practices,
  #view-skillmd:checked ~ .detail-switch__panels .detail-tabpanel--skillmd {
    animation: none;
  }
}

/* Reduce flicker risk on some GPUs/browsers: fewer blend-mode + animated blur layers on detail page. */
body.is-detail::before,
body.is-detail::after {
  animation: none;
  mix-blend-mode: normal;
  will-change: auto;
}

body.is-detail::before {
  opacity: 0.58;
  filter: blur(64px) saturate(135%);
}

body.is-detail::after {
  opacity: 0.18;
  filter: blur(22px) saturate(155%) contrast(105%);
}

.hero--detail .glow,
.hero--detail .spark {
  animation: none;
}
/* ---------- Detail page ---------- */
.breadcrumb {
  display: flex;
  align-items: center;
  gap: 10px;
  color: var(--muted);
  font-weight: 900;
  font-size: 13px;
  margin-bottom: 16px;
}

.breadcrumb a {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 8px 12px;
  border-radius: 999px;
  background: rgba(255, 255, 255, 0.62);
  border: 1px solid rgba(255, 107, 0, 0.14);
  transition: background 160ms ease, transform 160ms ease;
}

.breadcrumb a:hover {
  transform: translateY(-1px);
  background: rgba(255, 255, 255, 0.9);
}

.detail-card {
  position: relative;
  border-radius: var(--radius-lg);
  border: 1px solid rgba(255, 255, 255, 0.82);
  background: rgba(255, 255, 255, 0.72);
  backdrop-filter: blur(14px) saturate(170%);
  box-shadow: 0 36px 100px -78px rgba(50, 20, 0, 0.22), 0 18px 48px -44px rgba(255, 107, 0, 0.18),
    0 0 0 1px rgba(255, 255, 255, 0.42) inset;
  padding: 22px;
  margin-bottom: 18px;
  overflow: hidden;
}

.detail-card::after {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  background: radial-gradient(circle at 12% 12%, rgba(255, 204, 0, 0.12), transparent 58%),
    radial-gradient(circle at 88% 20%, rgba(255, 107, 0, 0.1), transparent 56%),
    linear-gradient(135deg, rgba(255, 107, 0, 0.04), rgba(255, 204, 0, 0.04));
  opacity: 0.9;
}

/*
  SKILL.md 背景更清淡
  ------------------------------------------------------------
  目标：保持“白色为主”的阅读感，金色只做点缀。
  - 提高底色白度
  - 降低暖色光晕的强度
*/
.detail-tabpanel--skillmd.detail-card {
  background: rgba(255, 255, 255, 0.86);
  border-color: rgba(255, 255, 255, 0.9);
  box-shadow: 0 28px 70px -60px rgba(50, 20, 0, 0.16), 0 12px 26px -28px rgba(255, 107, 0, 0.12),
    0 0 0 1px rgba(255, 255, 255, 0.56) inset;
}

.detail-tabpanel--skillmd.detail-card::after {
  background:
    radial-gradient(circle at 12% 12%, rgba(255, 236, 200, 0.08), transparent 60%),
    radial-gradient(circle at 88% 20%, rgba(255, 210, 160, 0.06), transparent 58%),
    linear-gradient(135deg, rgba(255, 210, 140, 0.03), rgba(255, 236, 200, 0.03));
  opacity: 0.75;
}

.detail-card > * {
  position: relative;
  z-index: 1;
}

.detail-header {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 22px;
}

.detail-title {
  font-family: var(--font-heading);
  font-size: clamp(26px, 2.4vw, 40px);
  font-weight: 900;
  letter-spacing: -0.4px;
  line-height: 1.1;
}

.detail-subtitle {
  margin-top: 10px;
  color: var(--muted);
  line-height: 1.7;
  font-size: 14px;
  max-width: 80ch;
}

.detail-title-row {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: 10px;
}

.detail-actions {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  justify-content: flex-end;
}

.info-list {
  display: flex;
  flex-wrap: wrap;
  gap: 12px 18px;
  margin-top: 16px;
  color: var(--muted);
  font-size: 13px;
  font-weight: 800;
}

.info-item {
  display: inline-flex;
  align-items: center;
  gap: 8px;
}

.info-item a {
  color: var(--primary-strong);
  font-weight: 900;
}

.section-header {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 16px;
  margin-bottom: 14px;
}

.section-header h2 {
  font-family: var(--font-heading);
  font-size: 20px;
  font-weight: 900;
  letter-spacing: -0.2px;
}

.practice-section {
  margin-bottom: 18px;
}

.practice-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: 18px;
}

/*
  Skill 详情页（桌面端）实践列表：无限滚动辅助样式
  ------------------------------------------------------------------
  需求：
  - 详情页下方实践卡片从“分页”改为“触底加载”
  - 需要一个“哨兵元素”给 IntersectionObserver/scroll fallback 使用
  - 需要底部状态区展示：加载中 / 已到底 / 重试 / 手动加载更多（兜底）
*/
.practice-sentinel {
  height: 1px;
  width: 100%;
  pointer-events: none;
}

.practice-feed-footer {
  margin-top: 18px;
  display: flex;
  justify-content: center;
}

.practice-feed-footer__loading,
.practice-feed-footer__end {
  color: rgba(124, 94, 77, 0.88);
  font-weight: 800;
  font-size: 13px;
}

.practice-card {
  --card-accent: var(--accent, rgba(255, 107, 0, 0.9));
  position: relative;
  display: flex;
  flex-direction: column;
  gap: 14px;
  padding: 22px;
  border-radius: var(--radius-lg);
  border: 1px solid rgba(255, 255, 255, 0.82);
  background: rgba(255, 255, 255, 0.7);
  backdrop-filter: blur(12px) saturate(160%);
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.03);
  transition: transform 520ms cubic-bezier(0.16, 1, 0.3, 1), box-shadow 520ms cubic-bezier(0.16, 1, 0.3, 1),
    background 520ms cubic-bezier(0.16, 1, 0.3, 1), border-color 520ms cubic-bezier(0.16, 1, 0.3, 1);
  overflow: hidden;
  color: var(--text);
  cursor: pointer;
}
/*
  注意：
  - PracticeCard 的 hover 交互已在上方「卡片 Hover 交互统一」中集中管理，
    这里不再单独写 :hover，避免 Skill/Practice 两套 hover 表现不一致。
*/

.practice-card::before {
  content: "";
  position: absolute;
  inset: -1px;
  border-radius: inherit;
  pointer-events: none;
  background:
    radial-gradient(
      100% 70% at 16% 10%,
      color-mix(in srgb, var(--card-accent) 24%, rgba(255, 240, 190, 0.68)) 0%,
      rgba(255, 255, 255, 0) 68%
    ),
    linear-gradient(135deg, rgba(255, 255, 255, 0.62) 0%, rgba(255, 255, 255, 0) 54%);
  background-size: 160% 160%, 180% 180%;
  background-position: 0% 0%, 50% 100%;
  filter: saturate(1.12);
  /* 默认不显色：与首页 Skill 卡片的“白底玻璃感”对齐 */
  opacity: 0;
  transition: opacity 520ms cubic-bezier(0.16, 1, 0.3, 1);
  will-change: transform, opacity;
}

.practice-card::after {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  pointer-events: none;
  opacity: 0;
  transition: opacity 520ms cubic-bezier(0.16, 1, 0.3, 1);
  /*
    hover 高光层（与 SkillCard 保持一致）
    ------------------------------------------------------------
    - 让 PracticeCard hover 时同样呈现“提亮”的玻璃反光
    - 不依赖暗色描边/阴影来制造对比，避免出现“hover 反而变暗”的观感
  */
  background:
    radial-gradient(120% 85% at 18% 8%, rgba(255, 255, 255, 0.78) 0%, rgba(255, 255, 255, 0) 62%),
    radial-gradient(90% 70% at 88% 0%, rgba(255, 230, 140, 0.38) 0%, rgba(255, 230, 140, 0) 66%),
    linear-gradient(135deg, rgba(255, 210, 110, 0.12), rgba(255, 240, 180, 0.1));
}

.practice-card > * {
  position: relative;
  z-index: 1;
}

.practice-card__top {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  flex-wrap: wrap;
  color: var(--muted);
  font-size: 13px;
  font-weight: 800;
}

/* 实践卡片日期胶囊去掉描边：保持轻量信息感，避免与频道标签抢层级 */
.practice-card__top .stat--empty {
  border-color: transparent;
}

.practice-card__channel {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  font-size: 12px;
  font-weight: 900;
  letter-spacing: 0.2px;
  padding: 7px 14px;
  border-radius: 999px;
  background: color-mix(in srgb, var(--card-accent) 10%, rgba(255, 255, 255, 0.62));
  border: 1px solid color-mix(in srgb, var(--card-accent) 16%, rgba(255, 255, 255, 0.78));
  color: rgba(124, 94, 77, 0.92);
  white-space: nowrap;
}

.practice-card__channel::before {
  content: "";
  width: 8px;
  height: 8px;
  border-radius: 999px;
  background: color-mix(in srgb, var(--card-accent) 70%, white);
  box-shadow: 0 14px 24px -18px color-mix(in srgb, var(--card-accent) 55%, rgba(0, 0, 0, 0.18));
  flex: 0 0 auto;
}

.practice-card h3 {
  font-family: var(--font-heading);
  font-size: 18px;
  font-weight: 900;
  letter-spacing: -0.2px;
  line-height: 1.25;
}

.practice-card p {
  color: var(--muted);
  font-size: 14px;
  font-weight: 700;
  line-height: 1.7;
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.practice-card__bottom {
  margin-top: auto;
  padding-top: 14px;
  border-top: 1px solid color-mix(in srgb, var(--card-accent) 12%, rgba(255, 107, 0, 0.12));
  display: grid;
  grid-template-columns: 1fr auto;
  gap: 10px 12px;
  align-items: center;
  color: var(--muted);
  font-size: 13px;
  font-weight: 800;
}

.practice-hint {
  margin-top: 14px;
  max-width: 92ch;
  color: var(--muted-2);
  font-size: 13px;
  line-height: 1.7;
  font-weight: 800;
}

.callout {
  margin-top: 14px;
  padding: 14px 14px;
  border-radius: 18px;
  background: rgba(255, 107, 0, 0.12);
  border: 1px solid rgba(255, 107, 0, 0.22);
  color: var(--text);
  font-size: 13px;
  line-height: 1.7;
  font-weight: 800;
}

/* ---------- Markdown ---------- */
.markdown {
  line-height: 1.75;
  color: var(--text);
}

.markdown h1,
.markdown h2,
.markdown h3 {
  font-family: var(--font-heading);
  margin-top: 18px;
  margin-bottom: 8px;
  letter-spacing: -0.2px;
}

.markdown p {
  margin: 10px 0;
  color: rgba(26, 21, 16, 0.92);
}

.markdown a {
  color: var(--primary-strong);
  font-weight: 900;
  text-decoration: underline;
  text-decoration-color: rgba(255, 107, 0, 0.35);
  text-underline-offset: 3px;
}

.markdown code {
  background: rgba(255, 107, 0, 0.12);
  padding: 2px 7px;
  border-radius: 8px;
  font-size: 13px;
  font-weight: 900;
}

.markdown pre {
  position: relative;
  background: #1f2937;
  color: #f8fafc;
  padding: 16px;
  border-radius: 16px;
  overflow-x: auto;
  border: 1px solid rgba(255, 255, 255, 0.12);
}

.markdown pre code {
  background: none;
  padding: 0;
  font-weight: 700;
  /* 强制使用等宽字体，提升代码可读性 */
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  font-size: 13px;
  line-height: 1.7;
}

/* 避免高亮主题覆盖代码块背景色 */
.markdown pre code.hljs {
  background: transparent;
  color: #e5e7eb;
}

.code-chip {
  position: absolute;
  right: 12px;
  top: 12px;
  padding: 6px 10px;
  border-radius: 999px;
  background: rgba(255, 255, 255, 0.12);
  border: 1px solid rgba(255, 255, 255, 0.16);
  font-size: 12px;
  font-weight: 900;
  color: rgba(248, 250, 252, 0.9);
}

.markdown blockquote {
  margin: 12px 0;
  padding: 10px 12px;
  border-left: 4px solid rgba(255, 107, 0, 0.45);
  background: rgba(255, 255, 255, 0.55);
  border-radius: 14px;
  color: var(--muted);
  font-weight: 800;
}

.markdown table {
  width: 100%;
  margin: 16px 0 18px;
  border-collapse: separate;
  border-spacing: 0;
  border: 1px solid rgba(255, 107, 0, 0.14);
  border-radius: 16px;
  overflow: hidden;
  background: rgba(255, 255, 255, 0.74);
  table-layout: fixed;
}

.markdown th,
.markdown td {
  padding: 12px 14px;
  border-bottom: 1px solid rgba(255, 107, 0, 0.12);
  border-right: 1px solid rgba(255, 107, 0, 0.12);
  text-align: left;
  vertical-align: top;
  font-size: 14px;
  word-break: normal;
  overflow-wrap: break-word;
  hyphens: auto;
}

.markdown th {
  font-family: var(--font-heading);
  font-weight: 900;
  background: rgba(255, 107, 0, 0.08);
}

.markdown tr:last-child td {
  border-bottom: none;
}

.markdown th:last-child,
.markdown td:last-child {
  border-right: none;
}

/* ---------- Footer ---------- */
.footer {
  /*
    页脚整体区域：做成全宽“底部版心带”，而不是卡片。
    通过浅色背景 + 顶部分隔线营造典型 Footer 的收尾感。
  */
  width: 100%;
  margin: 72px 0 0;
  padding: 56px 0 40px;
  color: var(--muted);
  background: linear-gradient(
    180deg,
    rgba(255, 241, 230, 0) 0%,
    rgba(255, 255, 255, 0.66) 22%,
    rgba(255, 255, 255, 0.94) 100%
  );
  position: relative;
  z-index: 1;
}

.footer::before {
  /* 页脚顶部细分隔线，避免“卡片边框感”，只做轻量分区 */
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 1px;
  background: linear-gradient(
    90deg,
    rgba(255, 107, 0, 0) 0%,
    rgba(255, 107, 0, 0.28) 50%,
    rgba(255, 107, 0, 0) 100%
  );
  pointer-events: none;
}

.footer__shell {
  /*
    页脚内容容器：仅负责居中与左右留白，不做卡片化背景。
    视觉层次统一由 .footer 背景处理。
  */
  width: min(100%, var(--content-width));
  margin: 0 auto;
  padding: 0 var(--page-gutter);
}

.footer__grid {
  /* 顶部信息区采用 5 列网格布局（品牌区 + 4 个信息分区），左侧品牌区更宽。 */
  position: relative;
  z-index: 1;
  display: grid;
  grid-template-columns: 1.3fr repeat(4, minmax(0, 1fr));
  gap: 36px;
}

.footer__brand {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.footer__brand-header {
  display: flex;
  align-items: center;
  gap: 14px;
}

.footer__logo {
  width: 44px;
  height: 44px;
  border-radius: 16px;
  background: linear-gradient(135deg, #ff7a2b, #ff4d6a);
  border: 1px solid rgba(255, 255, 255, 0.6);
  box-shadow: 0 16px 28px -14px rgba(255, 94, 98, 0.45),
    0 0 0 1px rgba(255, 255, 255, 0.4) inset;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  transform: translateZ(0);
}

.footer__logo svg {
  width: 26px;
  height: 26px;
}

.footer__brand-title-group {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.footer__brand-title {
  font-family: var(--font-heading);
  font-size: 19px;
  font-weight: 800;
  color: var(--text);
  letter-spacing: -0.4px;
}

.footer__brand-subtitle {
  font-size: 11px;
  color: var(--muted);
  letter-spacing: 0.8px;
  text-transform: uppercase;
}

.footer__desc {
  margin: 0;
  font-size: 13px;
  line-height: 1.75;
  color: var(--muted);
}

.footer__status {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  font-size: 12px;
  color: var(--muted);
}

.footer__status-dot {
  width: 8px;
  height: 8px;
  border-radius: 999px;
  background: var(--success);
  box-shadow: 0 0 0 6px rgba(34, 197, 94, 0.18);
  /*
    Pulse 动画只使用 transform/opacity，触发 GPU 合成层，减少重排。
  */
  animation: footerPulse 2.6s ease-in-out infinite;
  transform: translateZ(0);
  will-change: transform, opacity;
}

@keyframes footerPulse {
  0% {
    transform: translateZ(0) scale(1);
    opacity: 0.7;
  }
  50% {
    transform: translateZ(0) scale(1.35);
    opacity: 1;
  }
  100% {
    transform: translateZ(0) scale(1);
    opacity: 0.7;
  }
}

.footer__col {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.footer__title {
  margin: 0;
  font-size: 13px;
  font-weight: 700;
  letter-spacing: 0.2px;
  text-transform: none;
  color: var(--text);
}

.footer__links {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.footer__link {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  color: var(--muted);
  font-size: 13px;
  text-decoration: none;
  /* 兼容 button/anchor 两种元素：统一去掉默认样式，保持轻量链接风格。 */
  background: none;
  border: none;
  padding: 0;
  cursor: pointer;
  font: inherit;
  transition: color 0.2s ease, opacity 0.2s ease;
}

.footer__link:hover {
  color: var(--primary);
  opacity: 0.9;
}

.footer__link-icon {
  width: 16px;
  height: 16px;
  color: currentColor;
  opacity: 0.85;
}

.footer__link--disabled {
  opacity: 0.45;
  cursor: not-allowed;
  pointer-events: none;
}

.footer__link--hint {
  opacity: 0.6;
  cursor: default;
  pointer-events: none;
}

.footer__wechat {
  /* 微信联系入口容器：用于定位二维码气泡。 */
  position: relative;
  align-self: flex-start;
}

.footer__wechat-trigger {
  /* 触发按钮：保持链接视觉，同时允许悬停与键盘焦点。 */
  cursor: pointer;
}

.footer__wechat-bubble {
  /* 二维码气泡：轻量玻璃态，默认隐藏。 */
  position: absolute;
  left: 0;
  bottom: calc(100% + 10px);
  width: 176px;
  padding: 12px;
  border-radius: 16px;
  background: rgba(255, 255, 255, 0.96);
  border: 1px solid rgba(255, 107, 0, 0.16);
  box-shadow: 0 18px 36px -24px rgba(255, 107, 0, 0.45);
  backdrop-filter: blur(12px) saturate(160%);
  opacity: 0;
  visibility: hidden;
  pointer-events: none;
  transform: translate3d(0, 8px, 0);
  transition: opacity 0.2s ease, transform 0.2s ease, visibility 0.2s ease;
  /* 动画只用 transform/opacity，触发 GPU 合成层。 */
  will-change: transform, opacity;
  z-index: 10;
}

.footer__wechat-bubble::after {
  /* 气泡小箭头：指向触发入口。 */
  content: "";
  position: absolute;
  left: 18px;
  top: 100%;
  width: 10px;
  height: 10px;
  background: rgba(255, 255, 255, 0.96);
  border-right: 1px solid rgba(255, 107, 0, 0.16);
  border-bottom: 1px solid rgba(255, 107, 0, 0.16);
  transform: translate3d(0, -5px, 0) rotate(45deg);
}

.footer__wechat:hover .footer__wechat-bubble,
.footer__wechat:focus-within .footer__wechat-bubble {
  /* 悬停/聚焦展示气泡，避免无障碍用户无法触发。 */
  opacity: 1;
  visibility: visible;
  pointer-events: auto;
  transform: translate3d(0, 0, 0);
}

.footer__wechat-title {
  /* 气泡标题：明确扫码目的。 */
  font-size: 12px;
  font-weight: 600;
  color: var(--text);
  margin-bottom: 8px;
}

.footer__wechat-qr {
  /* 二维码容器：统一尺寸，保证图像清晰。 */
  width: 100%;
  aspect-ratio: 1 / 1;
  border-radius: 12px;
  overflow: hidden;
  background: #fff;
  border: 1px solid rgba(255, 107, 0, 0.12);
  display: flex;
  align-items: center;
  justify-content: center;
}

.footer__wechat-qr img {
  /* 二维码图像：填满容器，避免变形。 */
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.footer__wechat-tip {
  /* 气泡提示：弱化文案，避免抢占注意力。 */
  margin-top: 8px;
  font-size: 11px;
  color: var(--muted);
}

.footer__support-detail {
  /* 诉求说明：对齐链接文本起点，强调信息层级。 */
  margin: 0;
  padding-left: 26px;
  font-size: 12px;
  color: var(--muted);
  line-height: 1.6;
}

.footer__disclaimer {
  position: relative;
  z-index: 1;
  margin: 28px 0 0;
  padding-top: 20px;
  /* 分隔线使用柔和渐变替代边框线，强调“尾部信息区” */
  border-top: none;
  background-image: linear-gradient(
    90deg,
    rgba(255, 107, 0, 0) 0%,
    rgba(255, 107, 0, 0.2) 50%,
    rgba(255, 107, 0, 0) 100%
  );
  background-size: 100% 1px;
  background-repeat: no-repeat;
  background-position: left top;
  font-size: 12px;
  line-height: 1.7;
  color: var(--muted-2);
}

.footer__bottom {
  position: relative;
  z-index: 1;
  margin-top: 20px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 16px;
  flex-wrap: wrap;
  font-size: 12px;
  color: var(--muted);
}

.footer__copyright,
.footer__legal {
  display: inline-flex;
  align-items: center;
  gap: 10px;
}

.footer__legal-item {
  color: var(--muted);
}

.footer__divider {
  width: 1px;
  height: 12px;
  background: rgba(255, 107, 0, 0.22);
}

/* ---------- Responsive ---------- */
@media (max-width: 960px) {
  .hero__inner {
    flex-direction: column;
    align-items: flex-start;
    min-height: auto;
    padding: 126px var(--page-gutter) 56px;
  }
  .hero-showcase {
    justify-content: flex-start;
    margin-left: 0;
    /* 移动端让卡片紧贴标题下方，更自然过渡 */
    align-self: stretch;
    margin-top: 14px;
    margin-right: 0;
    /* 移动端减少装饰层级，避免占用额外垂直空间 */
    padding: 0;
    /* 覆盖桌面端固定尺寸，避免移动端出现多余留白 */
    width: 100%;
    min-height: auto;
    --hero-pad-x: 0px;
    --hero-pad-top: 0px;
    --hero-pad-bottom: 0px;
    --hero-card-w: min(100%, 380px);
    --hero-card-h: 480px;
  }
  .hero-showcase::before,
  .hero-showcase::after {
    display: none;
  }
  .practice-swiper {
    width: var(--hero-card-w);
    height: var(--hero-card-h);
    /* 移动端保持纯粹卡片视图，避免过度投影叠加 */
    transform: none;
    filter: none;
  }
  .hero-skeleton-deck {
    width: var(--hero-card-w);
    height: var(--hero-card-h);
    transform: none;
  }
  .search {
    flex-basis: 420px;
  }
  /*
    Footer 响应式：
    - 缩小上下留白
    - 网格改为两列，品牌区单独占一行
  */
  .footer {
    padding: 48px 0 32px;
  }
  .footer__grid {
    grid-template-columns: repeat(2, minmax(0, 1fr));
    gap: 28px;
  }
  .footer__brand {
    grid-column: span 2;
  }
}

@media (max-width: 720px) {
  :root {
    --page-gutter: 16px;
  }
  .app-header__inner {
    gap: 10px;
  }
  .search {
    display: none;
  }
  .page {
    /* padding-top: 112px; */
  }
  .skill-grid {
    grid-template-columns: 1fr;
  }
  .practice-grid {
    grid-template-columns: 1fr;
  }
  .detail-header {
    flex-direction: column;
  }
  .detail-actions {
    justify-content: flex-start;
  }
  /* 小屏下投稿引导条改为纵向排布，避免 CTA 拥挤。 */
  .practice-cta {
    flex-direction: column;
    align-items: flex-start;
  }
  .practice-cta__cta {
    width: 100%;
    justify-content: center;
  }
  /*
    Footer 小屏优化：
    - 单列布局
    - 减少上下留白
    - 底部信息左对齐，避免拥挤
  */
  .footer {
    margin: 56px 0 0;
    padding: 40px 0 28px;
  }
  .footer__grid {
    grid-template-columns: 1fr;
    gap: 22px;
  }
  .footer__bottom {
    justify-content: flex-start;
  }
}

@media (prefers-reduced-motion: reduce) {
  * {
    transition-duration: 0ms !important;
    scroll-behavior: auto !important;
  }
  /* Footer 的脉冲动效在低动态偏好下关闭，避免不适 */
  .footer__status-dot {
    animation: none;
  }
}

.empty-state {
  /*
    EmptyState（空状态提示卡）
    ------------------------------------------------------------
    参考 skillhub 的空态设计（图标 + 标题 + 描述 + 行动）：
    - 去掉“虚线框/白底块”的突兀感，改为更轻盈的玻璃态
    - 在列表网格中自动横跨所有列，避免只占一格导致“像坏掉的卡片”
    - 背景叠一层暖色渐变雾化，和页面极光氛围自然融合
  */
  grid-column: 1 / -1;
  width: min(100%, 980px);
  margin: 4px auto 0;
  padding: 34px 28px;
  border-radius: var(--radius-xl);

  background: linear-gradient(
    180deg,
    rgba(255, 255, 255, 0.86) 0%,
    rgba(255, 255, 255, 0.74) 45%,
    rgba(255, 255, 255, 0.66) 100%
  );
  border: 1px solid rgba(255, 255, 255, 0.88);
  backdrop-filter: blur(14px) saturate(160%);
  box-shadow:
    0 22px 60px -34px rgba(50, 20, 0, 0.18),
    0 0 0 1px rgba(255, 107, 0, 0.1) inset;

  text-align: center;
  display: flex;
  flex-direction: column;
  gap: 10px;
  align-items: center;

  color: var(--text);
  position: relative;
  overflow: hidden;
}

.empty-state::before {
  /* 暖色“雾化底光”：仅用 blur + opacity，避免重排；不做动画，保证性能稳定 */
  content: "";
  position: absolute;
  inset: -40%;
  pointer-events: none;
  z-index: 0;
  transform: translateZ(0);
  background:
    radial-gradient(40% 30% at 22% 18%, rgba(255, 204, 0, 0.22), transparent 62%),
    radial-gradient(42% 34% at 74% 10%, rgba(255, 107, 0, 0.22), transparent 60%),
    radial-gradient(46% 40% at 60% 92%, rgba(255, 51, 102, 0.14), transparent 58%);
  filter: blur(34px);
  opacity: 0.7;
}

.empty-state > * {
  position: relative;
  z-index: 1;
}

.empty-state__icon {
  width: 56px;
  height: 56px;
  border-radius: 18px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(135deg, rgba(255, 107, 0, 0.18), rgba(255, 204, 0, 0.16));
  color: var(--primary-strong);
  box-shadow:
    0 14px 30px -22px rgba(255, 107, 0, 0.9),
    0 0 0 1px rgba(255, 255, 255, 0.75) inset;
}

.empty-state__icon .icon {
  width: 22px;
  height: 22px;
}

.empty-state__title {
  margin: 0;
  font-family: var(--font-heading);
  font-size: 22px;
  letter-spacing: 0.2px;
}

.empty-state__desc {
  margin: 0;
  max-width: 56ch;
  color: var(--muted);
  font-weight: 700;
  font-size: 14px;
  line-height: 1.5;
}

.empty-state__action {
  margin-top: 6px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
}

@media (max-width: 720px) {
  .empty-state {
    padding: 26px 18px;
    border-radius: var(--radius-lg);
  }
  .empty-state__title {
    font-size: 20px;
  }
}

/* ---------- Auth Callback Loading ---------- */
.auth-loading-page {
  /* 登录回调页专属布局：保留页面顶部呼吸感，同时让加载卡片更聚焦 */
  padding-top: 128px;
  padding-bottom: 104px;
}

.auth-loading {
  /* 居中承载层：给加载卡片一个更稳定的视觉锚点 */
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: clamp(260px, 40vh, 420px);
}

.auth-loading__card {
  /* 轻量卡片：简洁、干净、仅保留必要层次 */
  width: min(100%, 420px);
  padding: 24px 24px 22px;
  border-radius: 22px;
  background: rgba(255, 255, 255, 0.9);
  border: 1px solid rgba(255, 255, 255, 0.8);
  backdrop-filter: blur(10px) saturate(120%);
  box-shadow: 0 16px 36px -28px rgba(50, 20, 0, 0.2);
  text-align: center;
  position: relative;
  overflow: hidden;
}

.auth-loading__brand {
  /* 品牌标识：仅保留文本，保持简洁克制 */
  display: inline-flex;
  align-items: center;
  gap: 0;
  padding: 3px 10px;
  border-radius: 999px;
  background: rgba(255, 255, 255, 0.72);
  border: 1px solid rgba(255, 107, 0, 0.12);
  box-shadow: 0 4px 10px -12px rgba(255, 107, 0, 0.45);
  font-size: 11px;
  font-weight: 800;
  color: var(--primary-strong);
  letter-spacing: 0.3px;
}

.auth-loading__brand-text {
  font-family: var(--font-heading);
}

.auth-loading__title {
  /* 主标题：只保留核心提示 */
  margin: 14px 0 0;
  font-family: var(--font-heading);
  font-size: 20px;
  font-weight: 800;
  letter-spacing: 0.25px;
  color: var(--text);
}
.auth-loading__dots {
  /* 微动效点阵：简洁、克制，不占视觉主位 */
  margin-top: 12px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
}

.auth-loading__dot {
  /* 单个动效点：轻微呼吸即可 */
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: rgba(255, 107, 0, 0.45);
  animation: auth-dot 1.2s ease-in-out infinite;
  transform: translateZ(0);
  will-change: transform, opacity;
}

.auth-loading__dot:nth-child(2) {
  animation-delay: 0.15s;
  opacity: 0.6;
}

.auth-loading__dot:nth-child(3) {
  animation-delay: 0.3s;
  opacity: 0.45;
}

@keyframes auth-dot {
  0% {
    transform: translateZ(0) scale(0.8);
    opacity: 0.35;
  }
  50% {
    transform: translateZ(0) scale(1);
    opacity: 0.8;
  }
  100% {
    transform: translateZ(0) scale(0.8);
    opacity: 0.35;
  }
}

@media (max-width: 720px) {
  .auth-loading__card {
    padding: 22px 18px 20px;
    border-radius: 20px;
  }
  .auth-loading__title {
    font-size: 18px;
  }
}

@media (prefers-reduced-motion: reduce) {
  .auth-loading__dot {
    animation: none;
  }
}

/* ============================================
   v1.5.7 周统计条 + v1.5.6 历史样式
   ============================================ */

/* WeeklyStatsBar（桌面） */
.weekly-stats-bar {
  width: min(100%, var(--content-width));
  margin: 26px auto 0;
  padding: 0 var(--page-gutter);
}

.weekly-stats-bar__inner {
  position: relative;
  overflow: hidden;
  min-height: 62px;
  border-radius: 18px;
  padding: 15px 22px 15px 20px;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  flex-wrap: wrap;
  text-align: center;
  /*
    渐变整体加深 + 提升饱和度：
    - 提高在白底页面中的存在感
    - 暖橙 + 冷紫蓝的混合，既呼应主色，也保持层次
  */
  background:
    radial-gradient(138% 152% at 0% 0%, rgba(255, 180, 116, 0.42) 0%, rgba(255, 180, 116, 0) 63%),
    radial-gradient(128% 148% at 100% 100%, rgba(124, 150, 255, 0.34) 0%, rgba(124, 150, 255, 0) 70%),
    linear-gradient(130deg, rgba(255, 241, 229, 0.97) 0%, rgba(255, 233, 244, 0.95) 48%, rgba(229, 241, 255, 0.95) 100%);
  border: 1px solid rgba(255, 107, 0, 0.24);
  color: rgba(63, 53, 86, 0.94);
  box-shadow: 0 24px 42px -32px rgba(106, 84, 156, 0.34), 0 9px 20px -16px rgba(255, 107, 0, 0.3);
}

/*
  左侧视觉锚点：
  - 通过窄色条明确“信息入口”
  - 宽度固定，不参与布局变化，保证稳定渲染
*/
.weekly-stats-bar__inner::before {
  content: "";
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 5px;
  background: linear-gradient(180deg, rgba(255, 162, 71, 0.98), rgba(255, 107, 0, 1));
}

.weekly-stats-bar__new-link {
  border: none;
  background: transparent;
  padding: 6px 10px 6px 6px;
  margin: 0;
  font: inherit;
  color: rgba(73, 42, 22, 0.98);
  display: inline-flex;
  align-items: center;
  gap: 8px;
  border-radius: 12px;
  font-size: 16px;
  font-weight: 900;
  letter-spacing: 0.16px;
  line-height: 1;
  cursor: pointer;
  transform: translate3d(0, 0, 0);
  transition: color 220ms ease, transform 220ms ease, background-color 220ms ease, box-shadow 220ms ease;
}

.weekly-stats-bar__new-link:focus-visible {
  outline: 2px solid rgba(255, 107, 0, 0.52);
  outline-offset: 2px;
}

.weekly-stats-bar__icon {
  width: 18px;
  height: 18px;
  flex-shrink: 0;
  color: #ff6b00;
}

.weekly-stats-bar__new-prefix,
.weekly-stats-bar__new-suffix {
  font-size: 16px;
  font-weight: 880;
  color: rgba(69, 47, 31, 0.95);
}

.weekly-stats-bar__new-count {
  color: #ff6b00;
  font-size: 26px;
  font-weight: 950;
  line-height: 1;
  letter-spacing: -0.2px;
}

.weekly-stats-bar__text {
  font-size: 16px;
  font-weight: 880;
  color: rgba(67, 55, 97, 0.94);
}

.weekly-stats-bar__meta {
  font-size: 15px;
  font-weight: 760;
  color: rgba(77, 84, 122, 0.9);
}

.weekly-stats-bar__divider {
  color: rgba(97, 92, 130, 0.48);
  font-weight: 760;
}

@media (hover: hover) and (pointer: fine) {
  .weekly-stats-bar__new-link:hover {
    color: rgba(255, 107, 0, 1);
    background: rgba(255, 255, 255, 0.52);
    box-shadow: 0 10px 18px -14px rgba(255, 107, 0, 0.56);
    transform: translate3d(0, -2px, 0);
  }
}

/* 实践模式引导 Banner */
.practice-discovery-banner {
  position: relative;
  width: min(100%, var(--content-width));
  margin: 24px auto 0;
  padding: 0 var(--page-gutter);
  opacity: 1;
  transition: opacity 300ms ease-out;
}

.practice-discovery-banner[data-fade-out="true"] {
  opacity: 0;
}

.practice-discovery-banner__content {
  position: relative;
  display: flex;
  align-items: center;
  gap: 16px;
  padding: 16px 24px;
  background: linear-gradient(135deg, rgba(255, 204, 0, 0.08), rgba(255, 107, 0, 0.06));
  border: 1px solid rgba(255, 107, 0, 0.2);
  border-radius: 16px;
  backdrop-filter: blur(8px);
  box-shadow: 0 4px 12px rgba(255, 107, 0, 0.08);
}

.practice-discovery-banner__icon {
  flex-shrink: 0;
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--primary);
}

.practice-discovery-banner__icon .icon {
  width: 24px;
  height: 24px;
}

.practice-discovery-banner__text {
  flex: 1;
  min-width: 0;
}

.practice-discovery-banner__title {
  font-size: 15px;
  font-weight: 700;
  color: var(--text);
  margin: 0 0 4px;
}

.practice-discovery-banner__desc {
  font-size: 13px;
  color: var(--muted);
  margin: 0;
}

.practice-discovery-banner__cta {
  flex-shrink: 0;
}

.practice-discovery-banner__close {
  position: absolute;
  top: 12px;
  right: 12px;
  width: 28px;
  height: 28px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: transparent;
  border: none;
  border-radius: 8px;
  color: var(--muted);
  cursor: pointer;
  transition: all 150ms ease;
}

.practice-discovery-banner__close:hover {
  background: rgba(255, 107, 0, 0.1);
  color: var(--text);
}

.practice-discovery-banner__close .icon {
  width: 16px;
  height: 16px;
}

/* 实践模式价值主张 */
.practice-mode-header {
  grid-column: 1 / -1;
  text-align: center;
  padding: 8px 0 16px;
}

.practice-mode-tagline {
  font-size: 14px;
  font-weight: 600;
  color: var(--muted);
  margin: 0;
}

/* 移动端适配 */
@media (max-width: 768px) {
  .practice-discovery-banner {
    margin: 16px auto 0;
  }

  .practice-discovery-banner__content {
    flex-direction: column;
    align-items: flex-start;
    padding: 16px 20px;
    gap: 12px;
  }

  .practice-discovery-banner__icon {
    width: 28px;
    height: 28px;
  }

  .practice-discovery-banner__icon .icon {
    width: 20px;
    height: 20px;
  }

  .practice-discovery-banner__title {
    font-size: 14px;
  }

  .practice-discovery-banner__desc {
    font-size: 12px;
  }

  .practice-discovery-banner__cta {
    width: 100%;
  }

  .practice-mode-header {
    padding: 4px 0 12px;
  }

  .practice-mode-tagline {
    font-size: 13px;
  }
}
